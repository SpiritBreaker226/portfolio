"use strict";var app=angular.module("spiritBreaker226GitHubPageApp",["ngAnimate","ngResource","ngRoute","duScroll"]);app.factory("doDisplayPortfolioDetails",function(){return function(a){a?angular.element("#projectsDetails").hasClass(".collapse.in")===!1&&(angular.element("#projectsList").collapse("hide"),angular.element("#projectsDetails").collapse("show")):(angular.element("#projectsList").collapse("show"),angular.element("#projectsDetails").collapse("hide"))}}),app.factory("ProjectCommService",function(){var a={};return a.data={},a.data.index=-1,a}),app.factory("ProjectPortfolioHttpService",["$http",function(a){return a.get("scripts/siteContentProjects.json",{cache:!0})}]),app.factory("projectShowURL",function(){return function(a){return""!==a}}),app.config(function(){}),function(){function a(a,c){a.prototype=b(c.prototype),a.prototype.constructor=a,a.parent=c.prototype}function b(a){function b(){}return b.prototype=a,new b}function c(a,b,c){return"millisecond"===c?a.setMilliseconds(a.getMilliseconds()+1*b):"second"===c?a.setSeconds(a.getSeconds()+1*b):"minute"===c?a.setMinutes(a.getMinutes()+1*b):"hour"===c?a.setHours(a.getHours()+1*b):"day"===c?a.setDate(a.getDate()+1*b):"week"===c?a.setDate(a.getDate()+7*b):"month"===c?a.setMonth(a.getMonth()+1*b):"year"===c&&a.setFullYear(a.getFullYear()+1*b),a}function d(a,b){return Q[b+"Duration"]*a}function e(a,b){var c=!1;for(0>a&&(c=!0,a*=-1),a=""+a,b=b?b:1;a.length<b;)a="0"+a;return c?"-"+a:a}function f(a){if(!a)return a;a=a.replace(/^\s\s*/,"");for(var b=/\s/,c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)}function g(a){a.roundRect=function(a,b,c,d,e,f,g,h){g&&(this.fillStyle=g),h&&(this.strokeStyle=h),"undefined"==typeof e&&(e=5),this.lineWidth=f,this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.quadraticCurveTo(a+c,b,a+c,b+e),this.lineTo(a+c,b+d-e),this.quadraticCurveTo(a+c,b+d,a+c-e,b+d),this.lineTo(a+e,b+d),this.quadraticCurveTo(a,b+d,a,b+d-e),this.lineTo(a,b+e),this.quadraticCurveTo(a,b,a+e,b),this.closePath(),g&&this.fill(),h&&f>0&&this.stroke()}}function h(a,b){return a-b}function j(a,b){return a.x-b.x}function k(a){var b=((16711680&a)>>16).toString(16),c=((65280&a)>>8).toString(16);return a=((255&a)>>0).toString(16),b=2>b.length?"0"+b:b,c=2>c.length?"0"+c:c,a=2>a.length?"0"+a:a,"#"+b+c+a}function l(a,b,c){c=c||"normal";var d=a+"_"+b+"_"+c,e=R[d];if(isNaN(e)){try{if(a="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+a+"; font-size:"+b+"px; font-weight:"+c+";",!S){var f=document.body;S=document.createElement("span"),S.innerHTML="";var g=document.createTextNode("Mpgyi");S.appendChild(g),f.appendChild(S)}S.style.display="",S.setAttribute("style",a),e=Math.round(S.offsetHeight),S.style.display="none"}catch(h){e=Math.ceil(1.1*b)}e=Math.max(e,b),R[d]=e}return e}function m(a,b,c,d){if(a.addEventListener)a.addEventListener(b,c,d||!1);else{if(!a.attachEvent)return!1;a.attachEvent("on"+b,function(b){b=b||window.event,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},c.call(a,b)})}}function n(a,b,c){for(a*=Z,b*=Z,a=c.getImageData(a,b,2,2).data,b=!0,c=0;4>c;c++)if(a[c]!==a[c+4]|a[c]!==a[c+8]|a[c]!==a[c+12]){b=!1;break}return b?a[0]<<16|a[1]<<8|a[2]:0}function o(a,b,c){var d;d=a?a+"FontStyle":"fontStyle";var e=a?a+"FontWeight":"fontWeight",f=a?a+"FontSize":"fontSize";return a=a?a+"FontFamily":"fontFamily",d=""+(b[d]?b[d]+" ":c&&c[d]?c[d]+" ":""),d+=b[e]?b[e]+" ":c&&c[e]?c[e]+" ":"",d+=b[f]?b[f]+"px ":c&&c[f]?c[f]+"px ":"",b=b[a]?b[a]+"":c&&c[a]?c[a]+"":"",!L&&b&&(b=b.split(",")[0],"'"!==b[0]&&'"'!==b[0]&&(b="'"+b+"'")),d+=b}function p(a,b,c){return a in b?b[a]:c[a]}function q(a,b,c){if(L&&W){var d=a.getContext("2d");Y=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,Z=X/Y,a.width=b*Z,a.height=c*Z,X!==Y&&(a.style.width=b+"px",a.style.height=c+"px",d.scale(Z,Z))}else a.width=b,a.height=c}function r(a,b){var c=document.createElement("canvas");return c.setAttribute("class","canvasjs-chart-canvas"),q(c,a,b),L||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(c),c}function s(a,b,c){if(a&&b&&c){c=c+"."+("jpeg"===b?"jpg":b);var d="image/"+b;a=a.toDataURL(d);var e=!1,f=document.createElement("a");if(f.download=c,f.href=a,f.target="_blank","undefined"!=typeof Blob&&new Blob){for(var g=a.replace(/^data:[a-z/]*;base64,/,""),g=atob(g),h=new ArrayBuffer(g.length),i=new Uint8Array(h),j=0;j<g.length;j++)i[j]=g.charCodeAt(j);b=new Blob([h],{type:"image/"+b});try{window.navigator.msSaveBlob(b,c),e=!0}catch(k){f.dataset.downloadurl=[d,f.download,f.href].join(":"),f.href=window.URL.createObjectURL(b)}}if(!e)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent?f.dispatchEvent(event):f.fireEvent&&f.fireEvent("onclick")}catch(l){b=window.open(),b.document.write("<img src='"+a+"'></img><div>Please right click on the image and save it to your device</div>"),b.document.close()}}}function t(a,b,c){b.getAttribute("state")!==c&&(b.setAttribute("state",c),b.setAttribute("type","button"),b.style.position="relative",b.style.margin="0px 0px 0px 0px",b.style.padding="3px 4px 0px 4px",b.style.cssFloat="left",b.setAttribute("title",a._cultureInfo[c+"Text"]),b.innerHTML="<img style='height:16px;' src='"+$[c].image+"' alt='"+a._cultureInfo[c+"Text"]+"' />")}function u(){for(var a=null,b=0;b<arguments.length;b++)a=arguments[b],a.style&&(a.style.display="inline")}function v(){for(var a=null,b=0;b<arguments.length;b++)(a=arguments[b])&&a.style&&(a.style.display="none")}function w(a,b,c){this._defaultsKey=a;var d={};c&&P[c]&&P[c][a]&&(d=P[c][a]),this._options=b?b:{},this.setOptions(this._options,d)}function x(a,b,c){this._publicChartReference=c,b=b||{},x.parent.constructor.call(this,"Chart",b,b.theme?b.theme:"theme1");var d=this;this._containerId=a,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.panEnabled=this.disableToolTip=this.animatedRender=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this._container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this._container.innerHTML="",b=a=0,a=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,b=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height,this.width=a,this.height=b,this._selectedColorSet="undefined"!=typeof O[this.colorSet]?O[this.colorSet]:O.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",L||(this._canvasJSContainer.style.height="0px"),this._container.appendChild(this._canvasJSContainer),this.canvas=r(a,b),this.canvas.style.position="absolute",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",g(this.ctx),L?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=r(a,b),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=r(a,b),this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this._eventManager=new I(this),m(window,"resize",function(){d._updateSize()&&d.render()}),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 2px; top: 0px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},m(this.overlaidCanvas,"click",function(a){d._mouseEventHandler(a)}),m(this.overlaidCanvas,"mousemove",function(a){d._mouseEventHandler(a)}),m(this.overlaidCanvas,"mouseup",function(a){d._mouseEventHandler(a)}),m(this.overlaidCanvas,"mousedown",function(a){d._mouseEventHandler(a),v(d._dropdownMenu)}),m(this.overlaidCanvas,"mouseout",function(a){d._mouseEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){d._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){d._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){d._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){d._touchEventHandler(a)}),this._creditLink||(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("class","canvasjs-chart-credit"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("target","_blank")),this._toolTip=new H(this,this._options.toolTip,this.theme),this.layoutManager=new z(this),this.axisY2=this.axisY=this.axisX=this.data=null,this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function y(a,b){for(var c=[],d=0;d<a.length;d++)if(0==d)c.push(a[0]);else{var e,f,g;g=d-1,e=0===g?0:g-1,f=g===a.length-1?g:g+1,c[c.length]={x:a[g].x+(a[f].x-a[e].x)/b/3,y:a[g].y+(a[f].y-a[e].y)/b/3},g=d,e=0===g?0:g-1,f=g===a.length-1?g:g+1,c[c.length]={x:a[g].x-(a[f].x-a[e].x)/b/3,y:a[g].y-(a[f].y-a[e].y)/b/3},c[c.length]=a[d]}return c}function z(a){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0,this.chart=a}function A(a,b){A.parent.constructor.call(this,"TextBlock",b),this.ctx=a,this._isDirty=!0,this._wrappedText=null,this._lineHeight=l(this.fontFamily,this.fontSize,this.fontWeight)}function B(a,b){B.parent.constructor.call(this,"Title",b,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function C(a,b,c){C.parent.constructor.call(this,"Legend",b,c),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.height=this.width=0,this.orientation=null,this.horizontalSpacing=10,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=l(this.fontFamily,this.fontSize,this.fontWeight)}function D(a,b){D.parent.constructor.call(this,b),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx}function E(a,b,c,d,e){E.parent.constructor.call(this,"DataSeries",b,c),this.chart=a,this.canvas=a.canvas,this._ctx=a.canvas.ctx,this.index=d,this.noDataPointsInPlotArea=0,this.id=e,this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:d},this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"==typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function F(a,b,c,d){if(F.parent.constructor.call(this,"Axis",b,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=a.ctx,this.intervalstartTimePercent=this.maxHeight=this.maxWidth=0,this.labels=[],this._labels=null,this.dataInfo={min:1/0,max:-(1/0),viewPortMin:1/0,viewPortMax:-(1/0),minDiff:1/0},"axisX"===c?(this.sessionVariables=this.chart.sessionVariables[c],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===d||"top"===d?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2,"undefined"==typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"==typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=c,"axisX"!==c||b&&"undefined"!=typeof b.gridThickness||(this.gridThickness=0),this._position=d,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this._options.stripLines&&0<this._options.stripLines.length)for(this.stripLines=[],b=0;b<this._options.stripLines.length;b++)this.stripLines.push(new G(this.chart,this._options.stripLines[b],a.theme,++this.chart._eventManager.lastObjectId));this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null,this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum),this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum),this.trackChanges("minimum"),this.trackChanges("maximum")}function G(a,b,c,d){G.parent.constructor.call(this,"StripLine",b,c),this._thicknessType="pixel",this.id=d,null!==this.startValue&&null!==this.endValue&&(this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=Math.max(this.endValue-this.startValue),this._thicknessType="value")}function H(a,b,c){H.parent.constructor.call(this,"ToolTip",b,c),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._timerId=0,this._prevY=this._prevX=0/0,this._initialize()}function I(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=r(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function J(a,b){var c;b&&N[b]&&(c=N[b]),B.parent.constructor.call(this,"CultureInfo",c,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx}function K(a){this.chart=a,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}var L=!!document.createElement("canvas").getContext,M={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",theme:"theme1",animationEnabled:!1,animationDuration:1200,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS.com",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart"},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!1,labelWrap:!0,labelMaxWidth:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:!0,lineThickness:2,color:null,risingColor:"white",fillOpacity:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:null,legendMarkerBorderThickness:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPG",savePNGText:"Save as PNG",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},N={en:{}},O={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #33558B".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},P={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:L?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:L?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:L?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:L?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:L?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:L?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:L?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:L?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:L?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:L?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:L?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:L?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:L?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:L?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},Q={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},R={},S=null,T=function(){var a=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c="Sun Mon Tue Wed Thu Fri Sat".split(" "),d="January February March April May June July August September October November December".split(" "),f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g;return function(i,j,k){var l=k?k.days:b,m=k?k.months:d,n=k?k.shortDays:c,o=k?k.shortMonths:f;k="";var p=!1;if(i=i&&i.getTime?i:i?new Date(i):new Date,isNaN(i))throw SyntaxError("invalid date");"UTC:"===j.slice(0,4)&&(j=j.slice(4),p=!0),k=p?"getUTC":"get";var q=i[k+"Date"](),r=i[k+"Day"](),s=i[k+"Month"](),t=i[k+"FullYear"](),u=i[k+"Hours"](),v=i[k+"Minutes"](),w=i[k+"Seconds"](),x=i[k+"Milliseconds"](),y=p?0:i.getTimezoneOffset();return k=j.replace(a,function(a){switch(a){case"D":return q;case"DD":return e(q,2);case"DDD":return n[r];case"DDDD":return l[r];case"M":return s+1;case"MM":return e(s+1,2);case"MMM":return o[s];case"MMMM":return m[s];case"Y":return parseInt(String(t).slice(-2));case"YY":return e(String(t).slice(-2),2);case"YYY":return e(String(t).slice(-3),3);case"YYYY":return e(t,4);case"h":return u%12||12;case"hh":return e(u%12||12,2);case"H":return u;case"HH":return e(u,2);case"m":return v;case"mm":return e(v,2);case"s":return w;case"ss":return e(w,2);case"f":return String(x).slice(0,1);case"ff":return e(String(x).slice(0,2),2);case"fff":return e(String(x).slice(0,3),3);case"t":return 12>u?"a":"p";case"tt":return 12>u?"am":"pm";case"T":return 12>u?"A":"P";case"TT":return 12>u?"AM":"PM";case"K":return p?"UTC":(String(i).match(g)||[""]).pop().replace(h,"");case"z":return(y>0?"-":"+")+Math.floor(Math.abs(y)/60);case"zz":return(y>0?"-":"+")+e(Math.floor(Math.abs(y)/60),2);case"zzz":return(y>0?"-":"+")+e(Math.floor(Math.abs(y)/60),2)+e(Math.abs(y)%60,2);default:return a.slice(1,a.length-1)}})}}(),U=function(a,b,c){if(null===a)return"";a=Number(a);var d=0>a?!0:!1;d&&(a*=-1);var f=c?c.decimalSeparator:".",g=c?c.digitGroupSeparator:",",h="";b=String(b);var h=1,i=c="",j=-1,k=[],l=[],m=0,n=0,o=0,p=!1,q=0,i=b.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);b=null;for(var r=0;i&&r<i.length;r++)if(b=i[r],"."===b&&0>j)j=r;else{if("%"===b)h*=100;else{if("‰"===b){h*=1e3;continue}if(","===b[0]&&"."===b[b.length-1]){h/=Math.pow(1e3,b.length-1),j=r+b.length-1;continue}"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||(p=!0)}0>j?(k.push(b),"#"===b||"0"===b?m++:","===b&&o++):(l.push(b),"#"!==b&&"0"!==b||n++)}for(p&&(b=Math.floor(a),q=(0===b?"":String(b)).length-m,h/=Math.pow(10,q)),0>j&&(j=r),h=(a*h).toFixed(n),b=h.split("."),h=(b[0]+"").split(""),a=(b[1]+"").split(""),h&&"0"===h[0]&&h.shift(),r=p=i=n=j=0;0<k.length;)if(b=k.pop(),"#"===b||"0"===b)if(j++,j===m){var s=h,h=[];if("0"===b)for(b=m-n-(s?s.length:0);b>0;)s.unshift("0"),b--;for(;0<s.length;)c=s.pop()+c,r++,0===r%p&&i===o&&0<s.length&&(c=g+c);d&&(c="-"+c)}else 0<h.length?(c=h.pop()+c,n++,r++):"0"===b&&(c="0"+c,n++,r++),0===r%p&&i===o&&0<h.length&&(c=g+c);else"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?","===b?(i++,p=r,r=0,0<h.length&&(c=g+c)):c=1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?b.slice(1,b.length-1)+c:b+c:(b=0>q?b.replace("+","").replace("-",""):b.replace("-",""),c+=b.replace(/[0]+/,function(a){return e(q,a.length)}));for(d="",g=!1;0<l.length;)b=l.shift(),"#"===b||"0"===b?0<a.length&&0!==Number(a.join(""))?(d+=a.shift(),g=!0):"0"===b&&(d+="0",g=!0):1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?d+=b.slice(1,b.length-1):"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?d+=b:(b=0>q?b.replace("+","").replace("-",""):b.replace("-",""),d+=b.replace(/[0]+/,function(a){return e(q,a.length)}));return c+((g?f:"")+d)},V=function(a){var b=0,c=0;return a=a||window.event,a.offsetX||0===a.offsetX?(b=a.offsetX,c=a.offsetY):a.layerX||0==a.layerX?(b=a.layerX,c=a.layerY):(b=a.pageX-a.target.offsetLeft,c=a.pageY-a.target.offsetTop),{x:b,y:c}},W=!0,X=window.devicePixelRatio||1,Y=1,Z=W?X/Y:1,$={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"}};w.prototype.setOptions=function(a,b){if(M[this._defaultsKey]){var c,d=M[this._defaultsKey];for(c in d)this[c]=a&&c in a?a[c]:b&&c in b?b[c]:d[c]}},w.prototype.updateOption=function(a){var b=M[this._defaultsKey],c=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1",d={},e=this[a];return c&&P[c]&&P[c][this._defaultsKey]&&(d=P[c][this._defaultsKey]),a in b&&(e=a in this._options?this._options[a]:d&&a in d?d[a]:b[a]),e===this[a]?!1:(this[a]=e,!0)},w.prototype.trackChanges=function(a){this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]=this._options[a]},w.prototype.isBeingTracked=function(a){return this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]?!0:!1},w.prototype.hasOptionChanged=function(a){return this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]!==this._options[a]},a(x,w),x.prototype._updateOptions=function(){var a=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!=typeof O[this.colorSet]?O[this.colorSet]:O.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new J(this,this._options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&L,this._options.zoomEnabled?(this._zoomButton||(v(this._zoomButton=document.createElement("button")),t(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),m(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,t(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,t(a,a._zoomButton,"pan")),a.render()})),this._resetButton||(v(this._resetButton=document.createElement("button")),t(this,this._resetButton,"reset"),this._toolBar.appendChild(this._resetButton),m(this._resetButton,"click",function(){a._toolTip.hide(),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,t(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),
a.sessionVariables.axisX.internalMinimum=a._options.axisX&&a._options.axisX.minimum?a._options.axisX.minimum:null,a.sessionVariables.axisX.internalMaximum=a._options.axisX&&a._options.axisX.maximum?a._options.axisX.maximum:null,a.resetOverlayedCanvas(),v(a._zoomButton,a._resetButton),a.render()}),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),u(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):this.panEnabled=this.zoomEnabled=!1,"undefined"!=typeof this._options.exportFileName&&(this.exportFileName=this._options.exportFileName),"undefined"!=typeof this._options.exportEnabled&&(this.exportEnabled=this._options.exportEnabled),this._menuButton?this.exportEnabled?u(this._menuButton):v(this._menuButton):this.exportEnabled&&L&&(this._menuButton=document.createElement("button"),t(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),m(this._menuButton,"click",function(){"none"!==a._dropdownMenu.style.display||a._dropDownCloseTime&&500>=(new Date).getTime()-a._dropDownCloseTime.getTime()||(a._dropdownMenu.style.display="block",a._menuButton.blur(),a._dropdownMenu.focus())},!0)),!this._dropdownMenu&&this.exportEnabled&&L){this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1),this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;",a._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),m(this._dropdownMenu,"blur",function(){v(a._dropdownMenu),a._dropDownCloseTime=new Date},!0);var b=document.createElement("div");b.style.cssText="padding: 2px 15px 2px 10px",b.innerHTML=this._cultureInfo.saveJPGText,this._dropdownMenu.appendChild(b),m(b,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),m(b,"mouseout",function(){this.style.backgroundColor="transparent"},!0),m(b,"click",function(){s(a.canvas,"jpg",a.exportFileName),v(a._dropdownMenu)},!0),b=document.createElement("div"),b.style.cssText="padding: 2px 15px 2px 10px",b.innerHTML=this._cultureInfo.savePNGText,this._dropdownMenu.appendChild(b),m(b,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),m(b,"mouseout",function(){this.style.backgroundColor="transparent"},!0),m(b,"click",function(){s(a.canvas,"png",a.exportFileName),v(a._dropdownMenu)},!0)}if("none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?t(a,a._zoomButton,"zoom"):t(a,a._zoomButton,"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&t(a,a._resetButton,"reset")),"undefined"==typeof M.Chart.creditHref)this.creditHref="http://canvasjs.com/",this.creditText="CanvasJS.com";else var c=this.updateOption("creditText"),d=this.updateOption("creditHref");(0===this.renderCount||c||d)&&(this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=this.creditText),this.creditHref&&this.creditText?this._creditLink.parentElement||this._canvasJSContainer.appendChild(this._creditLink):this._creditLink.parentElement&&this._canvasJSContainer.removeChild(this._creditLink),this._options.toolTip&&this._toolTip._options!==this._options.toolTip&&(this._toolTip._options=this._options.toolTip),this._toolTip.updateOption("enabled"),this._toolTip.updateOption("shared"),this._toolTip.updateOption("animationEnabled"),this._toolTip.updateOption("borderColor"),this._toolTip.updateOption("content")},x.prototype._updateSize=function(){var a=0,b=0;return this._options.width?a=this.width:this.width=a=0<this._container.clientWidth?this._container.clientWidth:this.width,this._options.height?b=this.height:this.height=b=0<this._container.clientHeight?this._container.clientHeight:this.height,this.canvas.width!==a*Z||this.canvas.height!==b*Z?(q(this.canvas,a,b),q(this.overlaidCanvas,a,b),q(this._eventManager.ghostCanvas,a,b),!0):!1},x.prototype._initialize=function(){this._animator?this._animator.cancelAllAnimations():this._animator=new K(this),this.disableToolTip=!1,this.pieDoughnutClickHandler=null,this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId),this._updateOptions(),this.animatedRender=L&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisY2=this.axisY=this.axisX=null,this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]},this.layoutManager.reset(),this.data=[];for(var a=0,b=0;b<this._options.data.length;b++)if(a++,!this._options.data[b].type||0<=x._supportedChartTypes.indexOf(this._options.data[b].type)){var c=new E(this,this._options.data[b],this.theme,a-1,++this._eventManager.lastObjectId);null===c.name&&(c.name="DataSeries "+a),null===c.color?1<this._options.data.length?(c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]],c.color=this._selectedColorSet[c.index%this._selectedColorSet.length]):c._colorSet="line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type||"candlestick"===c.type||"ohlc"===c.type?[this._selectedColorSet[0]]:this._selectedColorSet:c._colorSet=[c.color],null===c.markerSize&&(("line"===c.type||"stepLine"===c.type||"spline"===c.type)&&c.dataPoints&&c.dataPoints.length<this.width/16||"scatter"===c.type)&&(c.markerSize=8),"bubble"!==c.type&&"scatter"!==c.type||!c.dataPoints||c.dataPoints.sort(j),this.data.push(c);var d,e=c.axisPlacement;if("normal"===e?"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===e?"normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==e&&("normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none")),d&&window.console)return void window.console.log(d)}this._objectsInitialized=!0},x._supportedChartTypes="line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc rangeColumn rangeBar rangeArea rangeSplineArea pie doughnut funnel".split(" "),x._supportedChartTypes.indexOf||(x._supportedChartTypes.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);c>d;d++)if(d in this&&this[d]===a)return d;return-1}),x.prototype.render=function(a){for(a&&(this._options=a),this._initialize(),a=0;a<this.data.length;a++)("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&(this.data[a].axisYType&&"primary"!==this.data[a].axisYType?"secondary"===this.data[a].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new F(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new F(this,this._options.axisY2,"axisY","top"))),this.data[a].axisY=this.axisY2):(this.axisY||("normal"===this.plotInfo.axisPlacement?this.axisY=new F(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new F(this,this._options.axisY,"axisY","bottom"))),this.data[a].axisY=this.axisY),this.axisX||("normal"===this.plotInfo.axisPlacement?this.axisX=new F(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new F(this,this._options.axisX,"axisX","left"))),this.data[a].axisX=this.axisX);for(this._processData(),this._options.title&&(this._title=new B(this,this._options.title),this._title.render()),this.legend=new C(this,this._options.legend,this.theme),a=0;a<this.data.length;a++)this.data[a].showInLegend&&this.legend.dataSeries.push(this.data[a]);if(this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.layoutManager.getFreeSpace(),F.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}var b=[];if(this.animatedRender){var c=r(this.width,this.height);c.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(a=0;a<this.plotInfo.plotTypes.length;a++)for(var d=this.plotInfo.plotTypes[a],e=0;e<d.plotUnits.length;e++){var f=d.plotUnits[e],g=null;f.targetCanvas=null,this.animatedRender&&(f.targetCanvas=r(this.width,this.height),f.targetCanvasCtx=f.targetCanvas.getContext("2d")),"line"===f.type?g=this.renderLine(f):"stepLine"===f.type?g=this.renderStepLine(f):"spline"===f.type?g=this.renderSpline(f):"column"===f.type?g=this.renderColumn(f):"bar"===f.type?g=this.renderBar(f):"area"===f.type?g=this.renderArea(f):"stepArea"===f.type?g=this.renderStepArea(f):"splineArea"===f.type?g=this.renderSplineArea(f):"stackedColumn"===f.type?g=this.renderStackedColumn(f):"stackedColumn100"===f.type?g=this.renderStackedColumn100(f):"stackedBar"===f.type?g=this.renderStackedBar(f):"stackedBar100"===f.type?g=this.renderStackedBar100(f):"stackedArea"===f.type?g=this.renderStackedArea(f):"stackedArea100"===f.type?g=this.renderStackedArea100(f):"bubble"===f.type?g=g=this.renderBubble(f):"scatter"===f.type?g=this.renderScatter(f):"pie"===f.type?this.renderPie(f):"doughnut"===f.type?this.renderPie(f):"candlestick"===f.type?g=this.renderCandlestick(f):"ohlc"===f.type?g=this.renderCandlestick(f):"rangeColumn"===f.type?g=this.renderRangeColumn(f):"rangeBar"===f.type?g=this.renderRangeBar(f):"rangeArea"===f.type?g=this.renderRangeArea(f):"rangeSplineArea"===f.type&&(g=this.renderRangeSplineArea(f));for(var h=0;h<f.dataSeriesIndexes.length;h++)this._dataInRenderedOrder.push(this.data[f.dataSeriesIndexes[h]]);this.animatedRender&&g&&b.push(g)}this.animatedRender&&0<this._indexLabels.length&&(a=r(this.width,this.height).getContext("2d"),b.push(this.renderIndexLabels(a)));var i=this;0<b.length?(i.disableToolTip=!0,i._animator.animate(200,i.animationDuration,function(a){i.ctx.clearRect(0,0,i.width,i.height),i.ctx.drawImage(c,0,0,Math.floor(i.width*Z),Math.floor(i.height*Z),0,0,i.width,i.height);for(var d=0;d<b.length;d++)g=b[d],1>a&&"undefined"!=typeof g.startTimePercent?a>=g.startTimePercent&&g.animationCallback(g.easingFunction(a-g.startTimePercent,0,1,1-g.startTimePercent),g):g.animationCallback(g.easingFunction(a,0,1,1),g)},function(){b=[];for(var a=0;a<i.plotInfo.plotTypes.length;a++)for(var d=i.plotInfo.plotTypes[a],e=0;e<d.plotUnits.length;e++)d.plotUnits[e].targetCanvas=null;c=null,i.disableToolTip=!1})):0<i._indexLabels.length&&i.renderIndexLabels(),this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||v(this._zoomButton,this._resetButton),this._toolTip._updateToolTip(),this.renderCount++},x.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},x.prototype.categoriseDataSeries=function(){for(var a="",b=0;b<this.data.length;b++)if(a=this.data[b],a.dataPoints&&0!==a.dataPoints.length&&a.visible&&0<=x._supportedChartTypes.indexOf(a.type)){for(var c=null,d=!1,e=null,f=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===a.type){d=!0,c=this.plotInfo.plotTypes[g];break}for(d||(c={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(c)),g=0;g<c.plotUnits.length;g++)if(c.plotUnits[g].axisYType===a.axisYType){f=!0,e=c.plotUnits[g];break}f||(e={type:a.type,previousDataSeriesCount:0,index:c.plotUnits.length,plotType:c,axisYType:a.axisYType,axisY:"primary"===a.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[],yTotals:[]},c.plotUnits.push(e)),c.totalDataSeries++,e.dataSeriesIndexes.push(b),a.plotUnit=e}for(b=0;b<this.plotInfo.plotTypes.length;b++)for(c=this.plotInfo.plotTypes[b],g=a=0;g<c.plotUnits.length;g++)c.plotUnits[g].previousDataSeriesCount=a,a+=c.plotUnits[g].dataSeriesIndexes.length},x.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var b=this.data[a];if(b.dataPoints)for(var c=b.dataPoints.length,d=0;c>d;d++)b.dataPointIds[d]=++this._eventManager.lastObjectId}},x.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type||"stepLine"===d.type||"spline"===d.type||"column"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===d.type||"bar"===d.type||"bubble"===d.type||"scatter"===d.type?this._processMultiseriesPlotUnit(d):"stackedColumn"===d.type||"stackedBar"===d.type||"stackedArea"===d.type?this._processStackedPlotUnit(d):"stackedColumn100"===d.type||"stackedBar100"===d.type||"stackedArea100"===d.type?this._processStacked100PlotUnit(d):"candlestick"!==d.type&&"ohlc"!==d.type&&"rangeColumn"!==d.type&&"rangeBar"!==d.type&&"rangeArea"!==d.type&&"rangeSplineArea"!==d.type||this._processMultiYPlotUnit(d)}},x.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=0;g<a.dataSeriesIndexes.length;g++){var h=this.data[a.dataSeriesIndexes[g]],i=0,j=!1,k=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var l=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),m=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((h.dataPoints[i].x&&h.dataPoints[i].x.getTime||"dateTime"===h.xValueType)&&(f=!0),i=0;i<h.dataPoints.length;i++){if("undefined"==typeof h.dataPoints[i].x&&(h.dataPoints[i].x=i),h.dataPoints[i].x.getTime?(f=!0,b=h.dataPoints[i].x.getTime()):b=h.dataPoints[i].x,c=h.dataPoints[i].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),c<d.min&&(d.min=c),c>d.max&&(d.max=c),i>0){var n=b-h.dataPoints[i-1].x;0>n&&(n*=-1),e.minDiff>n&&0!==n&&(e.minDiff=n)}if(!(l>b)||j){if(!j&&(j=!0,i>0)){i-=2;continue}if(b>m&&!k)k=!0;else if(b>m&&k)continue;h.dataPoints[i].label&&(a.axisX.labels[b]=h.dataPoints[i].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),null!==c&&(c<d.viewPortMin&&(d.viewPortMin=c),c>d.viewPortMax&&(d.viewPortMax=c))}}this.plotInfo.axisXValueType=h.xValueType=f?"dateTime":"number"}},x.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=[],h=[],i=0;i<a.dataSeriesIndexes.length;i++){var j=this.data[a.dataSeriesIndexes[i]],k=0,l=!1,m=!1;if("normal"===j.axisPlacement||"xySwapped"===j.axisPlacement)var n=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),o=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((j.dataPoints[k].x&&j.dataPoints[k].x.getTime||"dateTime"===j.xValueType)&&(f=!0),k=0;k<j.dataPoints.length;k++){if("undefined"==typeof j.dataPoints[k].x&&(j.dataPoints[k].x=k),j.dataPoints[k].x.getTime?(f=!0,b=j.dataPoints[k].x.getTime()):b=j.dataPoints[k].x,c=j.dataPoints[k].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),k>0){var p=b-j.dataPoints[k-1].x;0>p&&(p*=-1),e.minDiff>p&&0!==p&&(e.minDiff=p)}if(!(n>b)||l){if(!l&&(l=!0,k>0)){k-=2;continue}if(b>o&&!m)m=!0;else if(b>o&&m)continue;j.dataPoints[k].label&&(a.axisX.labels[b]=j.dataPoints[k].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),null!==c&&(a.yTotals[b]=(a.yTotals[b]?a.yTotals[b]:0)+Math.abs(c),c>=0?g[b]=g[b]?g[b]+c:c:h[b]=h[b]?h[b]+c:c)}}this.plotInfo.axisXValueType=j.xValueType=f?"dateTime":"number"}for(k in g)isNaN(k)||(a=g[k],a<d.min&&(d.min=a),a>d.max&&(d.max=a),k<e.viewPortMin||k>e.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=a),a>d.viewPortMax&&(d.viewPortMax=a)));for(k in h)isNaN(k)||(a=h[k],a<d.min&&(d.min=a),a>d.max&&(d.max=a),k<e.viewPortMin||k>e.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=a),a>d.viewPortMax&&(d.viewPortMax=a)))}},x.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=!1,h=!1,i=[],j=0;j<a.dataSeriesIndexes.length;j++){var k=this.data[a.dataSeriesIndexes[j]],l=0,m=!1,n=!1;if("normal"===k.axisPlacement||"xySwapped"===k.axisPlacement)var o=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),p=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((k.dataPoints[l].x&&k.dataPoints[l].x.getTime||"dateTime"===k.xValueType)&&(f=!0),l=0;l<k.dataPoints.length;l++){if("undefined"==typeof k.dataPoints[l].x&&(k.dataPoints[l].x=l),k.dataPoints[l].x.getTime?(f=!0,b=k.dataPoints[l].x.getTime()):b=k.dataPoints[l].x,c=k.dataPoints[l].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),l>0){var q=b-k.dataPoints[l-1].x;0>q&&(q*=-1),e.minDiff>q&&0!==q&&(e.minDiff=q)}if(!(o>b)||m){if(!m&&(m=!0,l>0)){l-=2;continue}if(b>p&&!n)n=!0;else if(b>p&&n)continue;k.dataPoints[l].label&&(a.axisX.labels[b]=k.dataPoints[l].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),null!==c&&(a.yTotals[b]=(a.yTotals[b]?a.yTotals[b]:0)+Math.abs(c),c>=0?g=!0:h=!0,i[b]=i[b]?i[b]+Math.abs(c):Math.abs(c))}}this.plotInfo.axisXValueType=k.xValueType=f?"dateTime":"number"}g&&!h?(d.max=99,d.min=1):g&&h?(d.max=99,d.min=-99):!g&&h&&(d.max=-1,d.min=-99),d.viewPortMin=d.min,d.viewPortMax=d.max,a.dataPointYSums=i}},x.prototype._processMultiYPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var b,c,d,e,f=a.axisY.dataInfo,g=a.axisX.dataInfo,h=!1,i=0;i<a.dataSeriesIndexes.length;i++){var j=this.data[a.dataSeriesIndexes[i]],k=0,l=!1,m=!1;if("normal"===j.axisPlacement||"xySwapped"===j.axisPlacement)var n=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),o=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((j.dataPoints[k].x&&j.dataPoints[k].x.getTime||"dateTime"===j.xValueType)&&(h=!0),k=0;k<j.dataPoints.length;k++){if("undefined"==typeof j.dataPoints[k].x&&(j.dataPoints[k].x=k),j.dataPoints[k].x.getTime?(h=!0,b=j.dataPoints[k].x.getTime()):b=j.dataPoints[k].x,(c=j.dataPoints[k].y)&&c.length&&(d=Math.min.apply(null,c),e=Math.max.apply(null,c)),b<g.min&&(g.min=b),b>g.max&&(g.max=b),d<f.min&&(f.min=d),e>f.max&&(f.max=e),k>0){var p=b-j.dataPoints[k-1].x;0>p&&(p*=-1),g.minDiff>p&&0!==p&&(g.minDiff=p)}if(!(n>b)||l){if(!l&&(l=!0,k>0)){k-=2;continue}if(b>o&&!m)m=!0;else if(b>o&&m)continue;j.dataPoints[k].label&&(a.axisX.labels[b]=j.dataPoints[k].label),b<g.viewPortMin&&(g.viewPortMin=b),b>g.viewPortMax&&(g.viewPortMax=b),null!==c&&(d<f.viewPortMin&&(f.viewPortMin=d),e>f.viewPortMax&&(f.viewPortMax=e))}}this.plotInfo.axisXValueType=j.xValueType=h?"dateTime":"number"}},x.prototype.getDataPointAtXY=function(a,b,c){c=c||!1;for(var d=[],e=this._dataInRenderedOrder.length-1;e>=0;e--){var f=null;(f=this._dataInRenderedOrder[e].getDataPointAtXY(a,b,c))&&d.push(f)}for(a=null,b=!1,c=0;c<d.length;c++)if(("line"===d[c].dataSeries.type||"stepLine"===d[c].dataSeries.type||"area"===d[c].dataSeries.type||"stepArea"===d[c].dataSeries.type)&&(e=p("markerSize",d[c].dataPoint,d[c].dataSeries)||8,d[c].distance<=e/2)){b=!0;break}for(c=0;c<d.length;c++)b&&"line"!==d[c].dataSeries.type&&"stepLine"!==d[c].dataSeries.type&&"area"!==d[c].dataSeries.type&&"stepArea"!==d[c].dataSeries.type||(a?d[c].distance<=a.distance&&(a=d[c]):a=d[c]);return a},x.prototype.getObjectAtXY=function(a,b,c){var d=null;if(c=this.getDataPointAtXY(a,b,c||!1))d=c.dataSeries.dataPointIds[c.dataPointIndex];else if(L)d=n(a,b,this._eventManager.ghostCtx);else for(c=0;c<this.legend.items.length;c++){var e=this.legend.items[c];a>=e.x1&&a<=e.x2&&b>=e.y1&&b<=e.y2&&(d=e.id)}return d},x.prototype.getAutoFontSize=function(a,b,c){return a/=400,Math.round(Math.min(this.width,this.height)*a)},x.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},x.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},x.prototype.attachEvent=function(a){this._events.push(a)},x.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var b=[],c=a.changedTouches,d=c?c[0]:a,e=null;switch(a.type){case"touchstart":case"MSPointerDown":b=["mousemove","mousedown"],this._lastTouchData=V(d),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":b=["mousemove"];break;case"touchend":case"MSPointerUp":b="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(c&&1<c.length)){e=V(d),e.time=new Date;try{var f=e.y-this._lastTouchData.y,g=e.time-this._lastTouchData.time;if(15<Math.abs(f)&&(this._lastTouchData.scroll||200>g)){this._lastTouchData.scroll=!0;var h=window.parent||window;h&&h.scrollBy&&h.scrollBy(0,-f)}}catch(i){}if(this._lastTouchEventType=a.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(c=0;c<b.length;c++)e=b[c],f=document.createEvent("MouseEvent"),f.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(f),a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()}}},x.prototype._mouseEventHandler=function(a){if(this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else{a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault(),"undefined"==typeof a.target&&a.srcElement&&(a.target=a.srcElement);var b,c,d=V(a),e=a.type;if(a.which?c=3==a.which:a.button&&(c=2==a.button),!c){if(x.capturedEventParam)b=x.capturedEventParam,"mouseup"===e&&(x.capturedEventParam=null,b.chart.overlaidCanvas.releaseCapture?b.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",b.chart._mouseEventHandler,!1)),b.hasOwnProperty(e)&&b[e].call(b.context,d.x,d.y);else if(this._events){for(c=0;c<this._events.length;c++)if(this._events[c].hasOwnProperty(e)){b=this._events[c];var f=b.bounds;if(d.x>=f.x1&&d.x<=f.x2&&d.y>=f.y1&&d.y<=f.y2){b[e].call(b.context,d.x,d.y),"mousedown"===e&&!0===b.capture?(x.capturedEventParam=b,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===e&&(b.chart.overlaidCanvas.releaseCapture?b.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}b=null}a.target.style.cursor=b&&b.cursor?b.cursor:this._defaultCursor}this._toolTip&&this._toolTip.enabled&&(e=this.plotArea,(d.x<e.x1||d.x>e.x2||d.y<e.y1||d.y>e.y2)&&this._toolTip.hide()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(a)}}},x.prototype._plotAreaMouseDown=function(a,b){this.isDrag=!0,this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:a,y:b,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:a,y:b}},x.prototype._plotAreaMouseUp=function(a,b){var c,d;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var e=0,e=this.axisX.lineCoordinates,e="xySwapped"===this.plotInfo.axisPlacement?b-this.dragStartPoint.y:this.dragStartPoint.x-a;if(Math.abs(this.axisX.maximum-this.axisX.minimum),2<Math.abs(e)){if(this.panEnabled)e=!1,d=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(d=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=d,this.axisX.sessionVariables.internalMaximum+=d,e=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(d=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=d,this.axisX.sessionVariables.internalMinimum-=d,e=!0),e&&this.render();else if(this.zoomEnabled){if(this.resetOverlayedCanvas(),!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(c=Math.min(this.dragStartPoint.y,b),d=Math.max(this.dragStartPoint.y,b),1<Math.abs(c-d)&&(e=this.axisX.lineCoordinates,d=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(d-e.y1),e=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(c-e.y1),d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs(e-d)>2*Math.abs(this.axisX.dataInfo.minDiff)&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render()))):"normal"===this.plotInfo.axisPlacement&&(d=Math.min(this.dragStartPoint.x,a),c=Math.max(this.dragStartPoint.x,a),1<Math.abs(d-c)&&(e=this.axisX.lineCoordinates,d=(this.axisX.maximum-this.axisX.minimum)/e.width*(d-e.x1)+this.axisX.minimum,e=(this.axisX.maximum-this.axisX.minimum)/e.width*(c-e.x1)+this.axisX.minimum,d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs(e-d)>2*Math.abs(this.axisX.dataInfo.minDiff)&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render())))}this._ignoreNextEvent=!0,this.zoomEnabled&&"none"===this._zoomButton.style.display&&(u(this._zoomButton,this._resetButton),t(this,this._zoomButton,"pan"),t(this,this._resetButton,"reset"))}}this.isDrag=!1},x.prototype._plotAreaMouseMove=function(a,b){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var c=0,e=0,e=this.axisX.lineCoordinates;if("xySwapped"===this.plotInfo.axisPlacement?(c=b-this.dragStartPoint.y,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.height*c):(c=this.dragStartPoint.x-a,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.width*c),2<Math.abs(c)&&8>Math.abs(c)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():!this._toolTip.enabled||this.panEnabled||this.zoomEnabled||this._toolTip.mouseMoveHandler(a,b),2<Math.abs(c)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+e,this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+e,c=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)?(c=this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=c,this.axisX.sessionVariables.internalMaximum+=c):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)&&(c=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=c,this.axisX.sessionVariables.internalMinimum-=c);var f=this;clearTimeout(this._panTimerId),this._panTimerId=setTimeout(function(){f.render()},0)}else this.zoomEnabled&&(c=this.plotArea,this.resetOverlayedCanvas(),e=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(c.x1,this.dragStartPoint.y,c.x2-c.x1,b-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,c.y1,a-this.dragStartPoint.x,c.y2-c.y1),this.overlaidCanvasCtx.globalAlpha=e)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(a,b)},x.prototype.preparePlotArea=function(){var a=this.plotArea,b=this.axisY?this.axisY:this.axisY2;!L&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),this.axisX&&b?(a.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:b.lineCoordinates.x1,a.y1=this.axisX.lineCoordinates.y1<b.lineCoordinates.y1?this.axisX.lineCoordinates.y1:b.lineCoordinates.y1,a.x2=this.axisX.lineCoordinates.x2>b.lineCoordinates.x2?this.axisX.lineCoordinates.x2:b.lineCoordinates.x2,a.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1):(b=this.layoutManager.getFreeSpace(),a.x1=b.x1,a.x2=b.x2,a.y1=b.y1,a.y2=b.y2,a.width=b.width,a.height=b.height),L||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1))},x.prototype.getPixelCoordinatesOnPlotArea=function(a,b){return{x:this.axisX.getPixelCoordinatesOnAxis(a).x,y:this.axisY.getPixelCoordinatesOnAxis(b).y}},x.prototype.renderIndexLabels=function(a){a=a||this.plotArea.ctx,a.textBaseline="middle";for(var b=this.plotArea,c=0;c<this._indexLabels.length;c++){var d,e,f,g=this._indexLabels[c];a.fillStyle=p("indexLabelFontColor",g.dataPoint,g.dataSeries),a.font=o("indexLabel",g.dataPoint,g.dataSeries);var h=this.replaceKeywordsWithValue(p("indexLabel",g.dataPoint,g.dataSeries),g.dataPoint,g.dataSeries,null,g.indexKeyword),i=a.measureText(h).width,j=p("indexLabelFontSize",g.dataPoint,g.dataSeries),k=p("indexLabelPlacement",g.dataPoint,g.dataSeries),l=p("indexLabelOrientation",g.dataPoint,g.dataSeries),m=f=0,n=0,q=0,q=m=n=0,r=g.direction,m=g.dataSeries.axisX,q=g.dataSeries.axisY;g.dataPoint.x<m.minimum||g.dataPoint.x>m.maximum||g.dataPoint.y<q.minimum||g.dataPoint.y>q.maximum||("column"===g.chartType||"stackedColumn"===g.chartType||"stackedColumn100"===g.chartType||"bar"===g.chartType||"stackedBar"===g.chartType||"stackedBar100"===g.chartType||"candlestick"===g.chartType||"ohlc"===g.chartType||"rangeColumn"===g.chartType||"rangeBar"===g.chartType?(m=q=5,Math.abs(g.bounds.x1,g.bounds.x2),Math.abs(g.bounds.y1,g.bounds.y2),"normal"===this.plotInfo.axisPlacement?("inside"!==k?(m=b.y1,n=b.y2):(m=g.bounds.y1,n=g.bounds.y2),"horizontal"===l?(d=g.point.x-i/2,e=r>=0?g.point.y-j/2-q<m+j/2?"auto"===k?Math.min(Math.max(g.point.y,m)+j/2+1,n-j/2-q):Math.min(m+j/2+1,n-j/2-q):Math.min(g.point.y-j/2-q+1,n-j/2-q):g.point.y+j/2+q>n-j/2-1?"auto"===k?Math.max(Math.min(g.point.y,n)-j/2-1,m+j/2+q):Math.max(n-j/2-1,m+j/2+q):Math.max(g.point.y+j/2+q,m+j/2+q)):"vertical"===l&&(d=g.point.x,
e=r>=0?g.point.y-q<m+i+1?"auto"===k?Math.min(Math.max(g.point.y,m)+i+1,n):Math.min(m+i+1,n):Math.min(g.point.y-q,n-1):g.point.y+i+q>n-1?"auto"===k?Math.max(Math.min(g.point.y,n)-q,m):Math.max(n-1,m):Math.max(g.point.y+i+q,m),f=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("inside"!==k?(q=b.x1,n=b.x2):(q=g.bounds.x1,n=g.bounds.x2),"horizontal"===l?(e=g.point.y,d=r>=0?g.point.x+m>n-i?"auto"===k?Math.max(Math.min(g.point.x,n)-i,q):Math.max(n-i,q):Math.max(g.point.x+m,q):g.point.x-i-m<q?"auto"===k?Math.min(Math.max(g.point.x,q)+1,n):Math.min(q+1,n):Math.min(g.point.x-i-m,n)):"vertical"===l&&(e=g.point.y+i/2,d=r>=0?g.point.x+j/2+m>n-j/2?"auto"===k?Math.max(Math.min(g.point.x,n)-j/2,q):Math.max(n-j/2,q):Math.max(g.point.x+j/2+m,q):g.point.x-j/2-m<q+j/2?"auto"===k?Math.min(Math.max(g.point.x,q)+j/2,n+j/2):Math.min(q+j/2,n+j/2):Math.min(g.point.x-j/2-m,n+j/2),f=-90))):(q=5,"horizontal"===l?(d=g.point.x-i/2,"bubble"===g.chartType&&(q=-j/2),e=r>0?Math.max(g.point.y-j/2-q,b.y1+j/2):Math.min(g.point.y+j/2+q,b.y2-j/2)):"vertical"===l&&(d=g.point.x,"bubble"===g.chartType&&(q=-i/2),e=r>0?Math.max(g.point.y-q,b.y1+i):Math.min(g.point.y+i+q,b.y2),f=-90)),a.save(),a.translate(d,e),a.rotate(Math.PI/180*f),a.fillText(h,0,0),a.restore())}return{source:a,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0,startTimePercent:.7}},x.prototype.renderLine=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var h=g.dataPoints,i=g.id;this._eventManager.objectMap[i]={objectType:"dataSeries",dataSeriesIndex:f},i=k(i),c.strokeStyle=i,c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0,i=g._colorSet[0],b.strokeStyle=i;var j,l,m=!0,n=0;if(b.beginPath(),0<h.length){for(var o=!1,n=0;n<h.length;n++)if(j=h[n].x.getTime?h[n].x.getTime():h[n].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax))if("number"!=typeof h[n].y)n>0&&(b.stroke(),L&&c.stroke()),o=!0;else{j=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(j-a.axisX.conversionParameters.minimum)+.5<<0,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(h[n].y-a.axisY.conversionParameters.minimum)+.5<<0;var p=g.dataPointIds[n];if(this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:n,x1:j,y1:l},m||o?(b.beginPath(),b.moveTo(j,l),L&&(c.beginPath(),c.moveTo(j,l)),o=m=!1):(b.lineTo(j,l),L&&c.lineTo(j,l),0==n%500&&(b.stroke(),b.beginPath(),b.moveTo(j,l),L&&(c.stroke(),c.beginPath(),c.moveTo(j,l)))),0<h[n].markerSize||0<g.markerSize){var q=g.getMarkerProperties(n,j,l,b);d.push(q),p=k(p),L&&d.push({x:j,y:l,ctx:c,type:q.type,size:q.size,color:p,borderColor:p,borderThickness:q.borderThickness})}(h[n].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:h[n],dataSeries:g,point:{x:j,y:l},direction:0<=h[n].y?1:-1,color:i})}b.stroke(),L&&c.stroke()}}return ca.drawMarkers(d),b.restore(),b.beginPath(),L&&c.beginPath(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderStepLine=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var h=g.dataPoints,i=g.id;this._eventManager.objectMap[i]={objectType:"dataSeries",dataSeriesIndex:f},i=k(i),c.strokeStyle=i,c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0,i=g._colorSet[0],b.strokeStyle=i;var j,l,m=!0,n=0;if(b.beginPath(),0<h.length){for(var o=!1,n=0;n<h.length;n++)if(j=h[n].getTime?h[n].x.getTime():h[n].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax))if("number"!=typeof h[n].y)n>0&&(b.stroke(),L&&c.stroke()),o=!0;else{var p=l;j=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(j-a.axisX.conversionParameters.minimum)+.5<<0,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(h[n].y-a.axisY.conversionParameters.minimum)+.5<<0;var q=g.dataPointIds[n];this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:n,x1:j,y1:l},m||o?(b.beginPath(),b.moveTo(j,l),L&&(c.beginPath(),c.moveTo(j,l)),o=m=!1):(b.lineTo(j,p),L&&c.lineTo(j,p),b.lineTo(j,l),L&&c.lineTo(j,l),0==n%500&&(b.stroke(),b.beginPath(),b.moveTo(j,l),L&&(c.stroke(),c.beginPath(),c.moveTo(j,l)))),(0<h[n].markerSize||0<g.markerSize)&&(p=g.getMarkerProperties(n,j,l,b),d.push(p),q=k(q),L&&d.push({x:j,y:l,ctx:c,type:p.type,size:p.size,color:q,borderColor:q,borderThickness:p.borderThickness})),(h[n].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[n],dataSeries:g,point:{x:j,y:l},direction:0<=h[n].y?1:-1,color:i})}b.stroke(),L&&c.stroke()}}return ca.drawMarkers(d),b.restore(),b.beginPath(),L&&c.beginPath(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderSpline=function(a){function b(a){if(a=y(a,2),0<a.length){c.beginPath(),L&&d.beginPath(),c.moveTo(a[0].x,a[0].y),L&&d.moveTo(a[0].x,a[0].y);for(var b=0;b<a.length-3;b+=3)c.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),L&&d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),b>0&&0===b%3e3&&(c.stroke(),c.beginPath(),c.moveTo(a[b+3].x,a[b+3].y),L&&(d.stroke(),d.beginPath(),d.moveTo(a[b+3].x,a[b+3].y)));c.stroke(),L&&d.stroke()}}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx;c.save();var e=this.plotArea;c.beginPath(),c.rect(e.x1,e.y1,e.width,e.height),c.clip();for(var e=[],f=0;f<a.dataSeriesIndexes.length;f++){var g=a.dataSeriesIndexes[f],h=this.data[g];c.lineWidth=h.lineThickness;var i=h.dataPoints,j=h.id;this._eventManager.objectMap[j]={objectType:"dataSeries",dataSeriesIndex:g},j=k(j),d.strokeStyle=j,d.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0,j=h._colorSet[0],c.strokeStyle=j;var l,m,n=0,o=[];if(c.beginPath(),0<i.length)for(n=0;n<i.length;n++)if(l=i[n].getTime?i[n].x.getTime():i[n].x,!(l<a.axisX.dataInfo.viewPortMin||l>a.axisX.dataInfo.viewPortMax))if("number"!=typeof i[n].y)n>0&&(b(o),o=[]);else{l=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(l-a.axisX.conversionParameters.minimum)+.5<<0,m=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(i[n].y-a.axisY.conversionParameters.minimum)+.5<<0;var p=h.dataPointIds[n];if(this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:n,x1:l,y1:m},o[o.length]={x:l,y:m},0<i[n].markerSize||0<h.markerSize){var q=h.getMarkerProperties(n,l,m,c);e.push(q),p=k(p),L&&e.push({x:l,y:m,ctx:d,type:q.type,size:q.size,color:p,borderColor:p,borderThickness:q.borderThickness})}(i[n].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:i[n],dataSeries:h,point:{x:l,y:m},direction:0<=i[n].y?1:-1,color:j})}b(o)}return ca.drawMarkers(e),c.restore(),c.beginPath(),L&&d.beginPath(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}};var _=function(a,b,c,d,e,f,g,h,i,j,k,l,m){"undefined"==typeof m&&(m=1),g=g||0,h=h||"black";var n=d-b>15&&e-c>15?8:.35*Math.min(d-b,e-c);a.beginPath(),a.moveTo(b,c),a.save(),a.fillStyle=f,a.globalAlpha=m,a.fillRect(b,c,d-b,e-c),a.globalAlpha=1,g>0&&(m=0===g%2?0:.5,a.beginPath(),a.lineWidth=g,a.strokeStyle=h,a.moveTo(b,c),a.rect(b-m,c-m,d-b+2*m,e-c+2*m),a.stroke()),a.restore(),!0===i&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(d-n,c+n),a.lineTo(d,c),a.closePath(),g=a.createLinearGradient((d+b)/2,c+n,(d+b)/2,c),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=g,a.fill(),a.restore()),!0===j&&(a.save(),a.beginPath(),a.moveTo(b,e),a.lineTo(b+n,e-n),a.lineTo(d-n,e-n),a.lineTo(d,e),a.closePath(),g=a.createLinearGradient((d+b)/2,e-n,(d+b)/2,e),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=g,a.fill(),a.restore()),!0===k&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(b+n,e-n),a.lineTo(b,e),a.closePath(),g=a.createLinearGradient(b+n,(e+c)/2,b,(e+c)/2),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,a.fill(),a.restore()),!0===l&&(a.save(),a.beginPath(),a.moveTo(d,c),a.lineTo(d-n,c+n),a.lineTo(d-n,e-n),a.lineTo(d,e),g=a.createLinearGradient(d-n,(e+c)/2,d,(e+c)/2),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,a.fill(),a.closePath(),a.restore())};x.prototype.renderColumn=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=Math.min(.15*this.width,.9*(this.plotArea.width/a.plotType.totalDataSeries))<<0,j=a.axisX.dataInfo.minDiff,l=.9*(g.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.totalDataSeries)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var j=a.dataSeriesIndexes[g],m=this.data[j],n=m.dataPoints;if(0<n.length)for(var o=l>5&&m.bevelEnabled?!0:!1,h=0;h<n.length;h++)if(e=n[h].getTime?n[h].x.getTime():n[h].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof n[h].y){c=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(e-a.axisX.conversionParameters.minimum)+.5<<0,d=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(n[h].y-a.axisY.conversionParameters.minimum)+.5<<0,c=c-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+g)*l<<0;var p,q=c+l<<0;0<=n[h].y?p=i:(p=d,d=i),d>p&&(p=d=p),f=n[h].color?n[h].color:m._colorSet[h%m._colorSet.length],_(b,c,d,q,p,f,0,null,o&&0<=n[h].y,0>n[h].y&&o,!1,!1,m.fillOpacity),f=m.dataPointIds[h],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:h,x1:c,y1:d,x2:q,y2:p},f=k(f),L&&_(this._eventManager.ghostCtx,c,d,q,p,f,0,null,!1,!1,!1,!1),(n[h].indexLabel||m.indexLabel)&&this._indexLabels.push({chartType:"column",dataPoint:n[h],dataSeries:m,point:{x:c+(q-c)/2,y:0<=n[h].y?d:p},direction:0<=n[h].y?1:-1,bounds:{x1:c,y1:Math.min(d,p),x2:q,y2:Math.max(d,p)},color:f})}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.min(i,a.axisY.boundingRect.y2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.yScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderStackedColumn=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=.15*this.width<<0,j=a.axisX.dataInfo.minDiff,l=.9*(e.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.plotUnits.length)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip()),j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j],n=this.data[m],o=n.dataPoints;if(0<o.length){var p=l>5&&n.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<o.length;h++)if(d=o[h].x.getTime?o[h].x.getTime():o[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){e=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[h].y-a.axisY.conversionParameters.minimum);var q,r=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,s=r+l<<0;if(0<=o[h].y){var t=f[d]?f[d]:0;c-=t,q=i-t,f[d]=t+(q-c)}else t=g[d]?g[d]:0,q=c+t,c=i+t,g[d]=t+(q-c);d=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],_(b,r,c,s,q,d,0,null,p&&0<=o[h].y,0>o[h].y&&p,!1,!1,n.fillOpacity),d=n.dataPointIds[h],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:r,y1:c,x2:s,y2:q},d=k(d),L&&_(this._eventManager.ghostCtx,r,c,s,q,d,0,null,!1,!1,!1,!1),(o[h].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:o[h],dataSeries:n,point:{x:e,y:0<=o[h].y?c:q},direction:0<=o[h].y?1:-1,bounds:{x1:r,y1:Math.min(c,q),x2:s,y2:Math.max(c,q)},color:d})}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.min(i,a.axisY.boundingRect.y2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.yScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderStackedColumn100=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=.15*this.width<<0,j=a.axisX.dataInfo.minDiff,l=.9*(e.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.plotUnits.length)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip()),j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j],n=this.data[m],o=n.dataPoints;if(0<o.length)for(var p=l>5&&n.bevelEnabled?!0:!1,h=0;h<o.length;h++)if(d=o[h].x.getTime?o[h].x.getTime():o[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){e=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[d]?100*(o[h].y/a.dataPointYSums[d]):0)-a.axisY.conversionParameters.minimum);var q,r=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,s=r+l<<0;if(0<=o[h].y){var t=f[d]?f[d]:0;c-=t,q=i-t,f[d]=t+(q-c)}else t=g[d]?g[d]:0,q=c+t,c=i+t,g[d]=t+(q-c);d=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],_(b,r,c,s,q,d,0,null,p&&0<=o[h].y,0>o[h].y&&p,!1,!1,n.fillOpacity),d=n.dataPointIds[h],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:r,y1:c,x2:s,y2:q},d=k(d),L&&_(this._eventManager.ghostCtx,r,c,s,q,d,0,null,!1,!1,!1,!1),(o[h].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:o[h],dataSeries:n,point:{x:e,y:0<=o[h].y?c:q},direction:0<=o[h].y?1:-1,bounds:{x1:r,y1:Math.min(c,q),x2:s,y2:Math.max(c,q)},color:d})}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.min(i,a.axisY.boundingRect.y2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.yScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderBar=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=Math.min(.15*this.height,.9*(this.plotArea.height/a.plotType.totalDataSeries))<<0,j=a.axisX.dataInfo.minDiff,l=.9*(g.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.totalDataSeries)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var j=a.dataSeriesIndexes[g],m=this.data[j],n=m.dataPoints;if(0<n.length){var o=l>5&&m.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<n.length;h++)if(e=n[h].getTime?n[h].x.getTime():n[h].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof n[h].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(e-a.axisX.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(n[h].y-a.axisY.conversionParameters.minimum)+.5<<0,d=d-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+g)*l<<0;var p,q=d+l<<0;0<=n[h].y?p=i:(p=c,c=i),f=n[h].color?n[h].color:m._colorSet[h%m._colorSet.length],_(b,p,d,c,q,f,0,null,o,!1,!1,!1,m.fillOpacity),f=m.dataPointIds[h],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:h,x1:p,y1:d,x2:c,y2:q},f=k(f),L&&_(this._eventManager.ghostCtx,p,d,c,q,f,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"bar",dataPoint:n[h],dataSeries:m,point:{x:0<=n[h].y?c:p,y:d+(q-d)/2},direction:0<=n[h].y?1:-1,bounds:{x1:Math.min(p,c),y1:d,x2:Math.max(p,c),y2:q},color:f})}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.max(i,a.axisX.boundingRect.x2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderStackedBar=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=.15*this.height<<0,j=a.axisX.dataInfo.minDiff,l=.9*(e.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.plotUnits.length)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip()),j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j],n=this.data[m],o=n.dataPoints;if(0<o.length){var p=l>5&&n.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<o.length;h++)if(d=o[h].x.getTime?o[h].x.getTime():o[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){e=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[h].y-a.axisY.conversionParameters.minimum);var q,r=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,s=r+l<<0;if(0<=o[h].y){var t=f[d]?f[d]:0;q=i+t,c+=t,f[d]=t+(c-q)}else t=g[d]?g[d]:0,q=c-t,c=i-t,g[d]=t+(c-q);d=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],_(b,q,r,c,s,d,0,null,p,!1,!1,!1,n.fillOpacity),d=n.dataPointIds[h],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:q,y1:r,x2:c,y2:s},d=k(d),L&&_(this._eventManager.ghostCtx,q,r,c,s,d,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar",dataPoint:o[h],dataSeries:n,point:{x:0<=o[h].y?c:q,y:e},direction:0<=o[h].y?1:-1,bounds:{x1:Math.min(q,c),y1:r,x2:Math.max(q,c),y2:s},color:d})}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.max(i,a.axisX.boundingRect.x2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderStackedBar100=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=.15*this.height<<0,j=a.axisX.dataInfo.minDiff,l=.9*(e.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(j)/a.plotType.plotUnits.length)<<0;for(l>h?l=h:1/0===j?l=h:1>l&&(l=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip()),j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j],n=this.data[m],o=n.dataPoints;if(0<o.length){var p=l>5&&n.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<o.length;h++)if(d=o[h].x.getTime?o[h].x.getTime():o[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){e=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[d]?100*(o[h].y/a.dataPointYSums[d]):0)-a.axisY.conversionParameters.minimum);var q,r=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,s=r+l<<0;if(0<=o[h].y){var t=f[d]?f[d]:0;q=i+t,c+=t,f[d]=t+(c-q)}else t=g[d]?g[d]:0,q=c-t,c=i-t,g[d]=t+(c-q);d=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],_(b,q,r,c,s,d,0,null,p,!1,!1,!1,n.fillOpacity),d=n.dataPointIds[h],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:q,y1:r,x2:c,y2:s},d=k(d),L&&_(this._eventManager.ghostCtx,q,r,c,s,d,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar100",dataPoint:o[h],dataSeries:n,point:{x:0<=o[h].y?c:q,y:e},direction:0<=o[h].y?1:-1,bounds:{x1:Math.min(q,c),y1:r,x2:Math.max(q,c),y2:s},color:d})}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),a=Math.max(i,a.axisX.boundingRect.x2),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xScaleAnimation,easingFunction:ba.easing.easeOutQuart,animationBase:a}}},x.prototype.renderArea=function(a){function b(){t&&(0<j.lineThickness&&c.stroke(),0>=a.axisY.minimum&&0<=a.axisY.maximum?p=s:0>a.axisY.maximum?p=f.y1:0<a.axisY.minimum&&(p=e.y2),c.lineTo(m,p),c.lineTo(t.x,p),c.closePath(),c.globalAlpha=j.fillOpacity,c.fill(),c.globalAlpha=1,L&&(d.lineTo(m,p),d.lineTo(t.x,p),d.closePath(),d.fill()),c.beginPath(),c.moveTo(m,n),d.beginPath(),d.moveTo(m,n),t={x:m,y:n})}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],h=this.plotArea;for(c.save(),L&&d.save(),c.beginPath(),c.rect(h.x1,h.y1,h.width,h.height),c.clip(),L&&(d.beginPath(),d.rect(h.x1,h.y1,h.width,h.height),d.clip()),h=0;h<a.dataSeriesIndexes.length;h++){var i=a.dataSeriesIndexes[h],j=this.data[i],l=j.dataPoints,g=j.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:i},g=k(g),d.fillStyle=g;var m,n,o,p,g=[],q=!0,r=0,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+.5<<0,t=null;if(0<l.length){var u=j._colorSet[r%j._colorSet.length];c.fillStyle=u,c.strokeStyle=u,c.lineWidth=j.lineThickness;for(var v=!0;r<l.length;r++)if(o=l[r].x.getTime?l[r].x.getTime():l[r].x,!(o<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax))if("number"!=typeof l[r].y)b(),v=!0;else{m=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(o-a.axisX.conversionParameters.minimum)+.5<<0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(l[r].y-a.axisY.conversionParameters.minimum)+.5<<0,q||v?(c.beginPath(),c.moveTo(m,n),t={x:m,y:n},L&&(d.beginPath(),d.moveTo(m,n)),v=q=!1):(c.lineTo(m,n),L&&d.lineTo(m,n),0==r%250&&b());var w=j.dataPointIds[r];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:i,dataPointIndex:r,x1:m,y1:n},0!==l[r].markerSize&&(0<l[r].markerSize||0<j.markerSize)&&(o=j.getMarkerProperties(r,m,n,c),g.push(o),w=k(w),L&&g.push({x:m,y:n,ctx:d,type:o.type,size:o.size,color:w,borderColor:w,borderThickness:o.borderThickness})),(l[r].indexLabel||j.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:l[r],dataSeries:j,point:{x:m,y:n},direction:0<=l[r].y?1:-1,color:u})}b(),ca.drawMarkers(g)}}return c.restore(),L&&this._eventManager.ghostCtx.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderSplineArea=function(a){function b(){var b=y(s,2);if(0<b.length){c.beginPath(),c.moveTo(b[0].x,b[0].y),L&&(d.beginPath(),d.moveTo(b[0].x,b[0].y));for(var g=0;g<b.length-3;g+=3)c.bezierCurveTo(b[g+1].x,b[g+1].y,b[g+2].x,b[g+2].y,b[g+3].x,b[g+3].y),L&&d.bezierCurveTo(b[g+1].x,b[g+1].y,b[g+2].x,b[g+2].y,b[g+3].x,b[g+3].y);0<j.lineThickness&&c.stroke(),0>=a.axisY.minimum&&0<=a.axisY.maximum?o=q:0>a.axisY.maximum?o=f.y1:0<a.axisY.minimum&&(o=e.y2),r={x:b[0].x,y:b[0].y},c.lineTo(b[b.length-1].x,o),c.lineTo(r.x,o),c.closePath(),c.globalAlpha=j.fillOpacity,c.fill(),c.globalAlpha=1,L&&(d.lineTo(b[b.length-1].x,o),d.lineTo(r.x,o),d.closePath(),d.fill())}}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],h=this.plotArea;for(c.save(),L&&d.save(),c.beginPath(),c.rect(h.x1,h.y1,h.width,h.height),c.clip(),L&&(d.beginPath(),d.rect(h.x1,h.y1,h.width,h.height),d.clip()),h=0;h<a.dataSeriesIndexes.length;h++){var i=a.dataSeriesIndexes[h],j=this.data[i],l=j.dataPoints,g=j.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:i},g=k(g),d.fillStyle=g;var m,n,o,g=[],p=0,q=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+.5<<0,r=null,s=[];if(0<l.length){for(color=j._colorSet[p%j._colorSet.length],c.fillStyle=color,c.strokeStyle=color,c.lineWidth=j.lineThickness;p<l.length;p++)if(m=l[p].x.getTime?l[p].x.getTime():l[p].x,!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax))if("number"!=typeof l[p].y)p>0&&(b(),s=[]);else{m=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(m-a.axisX.conversionParameters.minimum)+.5<<0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(l[p].y-a.axisY.conversionParameters.minimum)+.5<<0;var t=j.dataPointIds[p];if(this._eventManager.objectMap[t]={id:t,objectType:"dataPoint",dataSeriesIndex:i,dataPointIndex:p,x1:m,y1:n},s[s.length]={x:m,y:n},0!==l[p].markerSize&&(0<l[p].markerSize||0<j.markerSize)){var u=j.getMarkerProperties(p,m,n,c);g.push(u),t=k(t),L&&g.push({x:m,y:n,ctx:d,type:u.type,size:u.size,color:t,borderColor:t,borderThickness:u.borderThickness})}(l[p].indexLabel||j.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:l[p],dataSeries:j,point:{x:m,y:n},direction:0<=l[p].y?1:-1,color:color})}b(),ca.drawMarkers(g)}}return c.restore(),L&&this._eventManager.ghostCtx.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderStepArea=function(a){function b(){t&&(0<j.lineThickness&&c.stroke(),0>=a.axisY.minimum&&0<=a.axisY.maximum?p=s:0>a.axisY.maximum?p=f.y1:0<a.axisY.minimum&&(p=e.y2),c.lineTo(m,p),c.lineTo(t.x,p),c.closePath(),c.globalAlpha=j.fillOpacity,c.fill(),c.globalAlpha=1,L&&(d.lineTo(m,p),d.lineTo(t.x,p),d.closePath(),d.fill()),c.beginPath(),c.moveTo(m,n),d.beginPath(),d.moveTo(m,n),t={x:m,y:n})}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],h=this.plotArea;for(c.save(),L&&d.save(),c.beginPath(),c.rect(h.x1,h.y1,h.width,h.height),c.clip(),L&&(d.beginPath(),d.rect(h.x1,h.y1,h.width,h.height),d.clip()),h=0;h<a.dataSeriesIndexes.length;h++){var i=a.dataSeriesIndexes[h],j=this.data[i],l=j.dataPoints,g=j.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:i},g=k(g),d.fillStyle=g;var m,n,o,p,g=[],q=!0,r=0,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+.5<<0,t=null,u=!1;if(0<l.length){var v=j._colorSet[r%j._colorSet.length];for(c.fillStyle=v,c.strokeStyle=v,c.lineWidth=j.lineThickness;r<l.length;r++)if(o=l[r].x.getTime?l[r].x.getTime():l[r].x,!(o<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax)){var w=n;"number"!=typeof l[r].y?(b(),u=!0):(m=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(o-a.axisX.conversionParameters.minimum)+.5<<0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(l[r].y-a.axisY.conversionParameters.minimum)+.5<<0,q||u?(c.beginPath(),c.moveTo(m,n),t={x:m,y:n},L&&(d.beginPath(),d.moveTo(m,n)),u=q=!1):(c.lineTo(m,w),L&&d.lineTo(m,w),c.lineTo(m,n),L&&d.lineTo(m,n),0==r%250&&b()),w=j.dataPointIds[r],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:i,dataPointIndex:r,x1:m,y1:n},0!==l[r].markerSize&&(0<l[r].markerSize||0<j.markerSize)&&(o=j.getMarkerProperties(r,m,n,c),g.push(o),w=k(w),L&&g.push({x:m,y:n,ctx:d,type:o.type,size:o.size,color:w,borderColor:w,borderThickness:o.borderThickness})),(l[r].indexLabel||j.indexLabel)&&this._indexLabels.push({chartType:"stepArea",dataPoint:l[r],dataSeries:j,point:{x:m,y:n},direction:0<=l[r].y?1:-1,color:v}))}b(),ca.drawMarkers(g)}}return c.restore(),L&&this._eventManager.ghostCtx.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderStackedArea=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=[],i=this.plotArea,j=[],l=[],m=0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,o=this._eventManager.ghostCtx;for(L&&o.beginPath(),b.save(),L&&o.save(),b.beginPath(),b.rect(i.x1,i.y1,i.width,i.height),b.clip(),L&&(o.beginPath(),o.rect(i.x1,i.y1,i.width,i.height),o.clip()),xValuePresent=[],i=0;i<a.dataSeriesIndexes.length;i++){var p=a.dataSeriesIndexes[i],q=this.data[p],r=q.dataPoints;for(q.dataPointIndexes=[],m=0;m<r.length;m++)p=r[m].x.getTime?r[m].x.getTime():r[m].x,q.dataPointIndexes[p]=m,xValuePresent[p]||(l.push(p),xValuePresent[p]=!0);l.sort(h)}for(i=0;i<a.dataSeriesIndexes.length;i++){var p=a.dataSeriesIndexes[i],q=this.data[p],r=q.dataPoints,s=!0,t=[],m=q.id;if(this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:p},m=k(m),o.fillStyle=m,0<l.length){for(f=q._colorSet[0],b.fillStyle=f,b.strokeStyle=f,b.lineWidth=q.lineThickness,m=0;m<l.length;m++){e=l[m];var u=null,u=0<=q.dataPointIndexes[e]?r[q.dataPointIndexes[e]]:{x:e,y:0};if(!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof u.y){c=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(e-a.axisX.conversionParameters.minimum)+.5<<0,d=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(u.y-a.axisY.conversionParameters.minimum);var v=j[e]?j[e]:0;if(d-=v,t.push({x:c,y:n-v}),j[e]=n-d,s)b.beginPath(),b.moveTo(c,d),L&&(o.beginPath(),o.moveTo(c,d)),s=!1;else if(b.lineTo(c,d),L&&o.lineTo(c,d),0==m%250){for(0<q.lineThickness&&b.stroke();0<t.length;){var w=t.pop();b.lineTo(w.x,w.y),L&&o.lineTo(w.x,w.y)}b.closePath(),b.globalAlpha=q.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),b.moveTo(c,d),L&&(o.closePath(),o.fill(),o.beginPath(),o.moveTo(c,d)),
t.push({x:c,y:n-v})}if(0<=q.dataPointIndexes[e]){var x=q.dataPointIds[q.dataPointIndexes[e]];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:q.dataPointIndexes[e],x1:c,y1:d}}0<=q.dataPointIndexes[e]&&0!==u.markerSize&&(0<u.markerSize||0<q.markerSize)&&(e=q.getMarkerProperties(m,c,d,b),g.push(e),markerColor=k(x),L&&g.push({x:c,y:d,ctx:o,type:e.type,size:e.size,color:markerColor,borderColor:markerColor,borderThickness:e.borderThickness})),(u.indexLabel||q.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:u,dataSeries:q,point:{x:c,y:d},direction:0<=r[m].y?1:-1,color:f})}}for(0<q.lineThickness&&b.stroke();0<t.length;)w=t.pop(),b.lineTo(w.x,w.y),L&&o.lineTo(w.x,w.y);b.closePath(),b.globalAlpha=q.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),b.moveTo(c,d),L&&(o.closePath(),o.fill(),o.beginPath(),o.moveTo(c,d))}delete q.dataPointIndexes}return ca.drawMarkers(g),b.restore(),L&&o.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderStackedArea100=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,i=[],j=[],l=[],m=0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,o=.15*this.width<<0,p=a.axisX.dataInfo.minDiff,p=.9*g.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(p)<<0,q=this._eventManager.ghostCtx;for(b.save(),L&&q.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),L&&(q.beginPath(),q.rect(g.x1,g.y1,g.width,g.height),q.clip()),xValuePresent=[],g=0;g<a.dataSeriesIndexes.length;g++){var r=a.dataSeriesIndexes[g],s=this.data[r],t=s.dataPoints;for(s.dataPointIndexes=[],m=0;m<t.length;m++)r=t[m].x.getTime?t[m].x.getTime():t[m].x,s.dataPointIndexes[r]=m,xValuePresent[r]||(l.push(r),xValuePresent[r]=!0);l.sort(h)}for(g=0;g<a.dataSeriesIndexes.length;g++){var r=a.dataSeriesIndexes[g],s=this.data[r],t=s.dataPoints,u=!0,f=s.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:r},f=k(f),q.fillStyle=f,1==t.length&&(p=o),1>p?p=1:p>o&&(p=o);var v=[];if(0<l.length){for(f=s._colorSet[m%s._colorSet.length],b.fillStyle=f,b.strokeStyle=f,b.lineWidth=s.lineThickness,m=0;m<l.length;m++){e=l[m];var w=null,w=0<=s.dataPointIndexes[e]?t[s.dataPointIndexes[e]]:{x:e,y:0};if(!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof w.y){d=0!==a.dataPointYSums[e]?100*(w.y/a.dataPointYSums[e]):0,c=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(e-a.axisX.conversionParameters.minimum)+.5<<0,d=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(d-a.axisY.conversionParameters.minimum);var x=j[e]?j[e]:0;if(d-=x,v.push({x:c,y:n-x}),j[e]=n-d,u)b.beginPath(),b.moveTo(c,d),L&&(q.beginPath(),q.moveTo(c,d)),u=!1;else if(b.lineTo(c,d),L&&q.lineTo(c,d),0==m%250){for(0<s.lineThickness&&b.stroke();0<v.length;){var y=v.pop();b.lineTo(y.x,y.y),L&&q.lineTo(y.x,y.y)}b.closePath(),b.globalAlpha=s.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),b.moveTo(c,d),L&&(q.closePath(),q.fill(),q.beginPath(),q.moveTo(c,d)),v.push({x:c,y:n-x})}if(0<=s.dataPointIndexes[e]){var z=s.dataPointIds[s.dataPointIndexes[e]];this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:s.dataPointIndexes[e],x1:c,y1:d}}0<=s.dataPointIndexes[e]&&0!==w.markerSize&&(0<w.markerSize||0<s.markerSize)&&(e=s.getMarkerProperties(m,c,d,b),i.push(e),markerColor=k(z),L&&i.push({x:c,y:d,ctx:q,type:e.type,size:e.size,color:markerColor,borderColor:markerColor,borderThickness:e.borderThickness})),(w.indexLabel||s.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:w,dataSeries:s,point:{x:c,y:d},direction:0<=t[m].y?1:-1,color:f})}}for(0<s.lineThickness&&b.stroke();0<v.length;)y=v.pop(),b.lineTo(y.x,y.y),L&&q.lineTo(y.x,y.y);b.closePath(),b.globalAlpha=s.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),b.moveTo(c,d),L&&(q.closePath(),q.fill(),q.beginPath(),q.moveTo(c,d))}delete s.dataPointIndexes}return ca.drawMarkers(i),b.restore(),L&&q.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderBubble=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d,e,f=this.plotArea,g=0,h=.15*this.width<<0,g=a.axisX.dataInfo.minDiff,c=.9*(f.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(g)/c)<<0;b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(f.x1,f.y1,f.width,f.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var i=-(1/0),j=1/0,l=0;l<a.dataSeriesIndexes.length;l++)for(var m=a.dataSeriesIndexes[l],n=this.data[m],o=n.dataPoints,p=0,g=0;g<o.length;g++)d=d=o[g].getTime?o[g].x.getTime():o[g].x,d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax||"undefined"==typeof o[g].z||(p=o[g].z,p>i&&(i=p),j>p&&(j=p));for(var q=25*Math.PI,f=Math.max(Math.pow(.25*Math.min(f.height,f.width)/2,2)*Math.PI,q),l=0;l<a.dataSeriesIndexes.length;l++)if(m=a.dataSeriesIndexes[l],n=this.data[m],o=n.dataPoints,1==o.length&&(c=h),1>c?c=1:c>h&&(c=h),0<o.length)for(b.strokeStyle="#4572A7 ",g=0;g<o.length;g++)if(d=d=o[g].getTime?o[g].x.getTime():o[g].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[g].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,e=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[g].y-a.axisY.conversionParameters.minimum)+.5<<0;var p=o[g].z,r=2*Math.max(Math.sqrt((i===j?f/2:q+(f-q)/(i-j)*(p-j))/Math.PI)<<0,1),p=n.getMarkerProperties(g,b);p.size=r,b.globalAlpha=n.fillOpacity,ca.drawMarker(d,e,b,p.type,p.size,p.color,p.borderColor,p.borderThickness),b.globalAlpha=1;var s=n.dataPointIds[g];this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:g,x1:d,y1:e,size:r},r=k(s),L&&ca.drawMarker(d,e,this._eventManager.ghostCtx,p.type,p.size,r,r,p.borderThickness),(o[g].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"bubble",dataPoint:o[g],dataSeries:n,point:{x:d,y:e},direction:1,color:null})}return b.restore(),L&&this._eventManager.ghostCtx.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0}}},x.prototype.renderScatter=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d,e,f=this.plotArea,g=0,h=.15*this.width<<0,g=a.axisX.dataInfo.minDiff,c=.9*(f.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(g)/c)<<0;b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(f.x1,f.y1,f.width,f.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var i=0;i<a.dataSeriesIndexes.length;i++){var j=a.dataSeriesIndexes[i],l=this.data[j],m=l.dataPoints;if(1==m.length&&(c=h),1>c?c=1:c>h&&(c=h),0<m.length){b.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(f.height,f.width)/2,2);for(var n=0,o=0,g=0;g<m.length;g++)if(d=d=m[g].getTime?m[g].x.getTime():m[g].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof m[g].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,e=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[g].y-a.axisY.conversionParameters.minimum)+.5<<0;var p=l.getMarkerProperties(g,d,e,b);b.globalAlpha=l.fillOpacity,ca.drawMarker(p.x,p.y,p.ctx,p.type,p.size,p.color,p.borderColor,p.borderThickness),b.globalAlpha=1,Math.sqrt((n-d)*(n-d)+(o-e)*(o-e))<Math.min(p.size,5)&&m.length>Math.min(this.plotArea.width,this.plotArea.height)||(n=l.dataPointIds[g],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:g,x1:d,y1:e},n=k(n),L&&ca.drawMarker(p.x,p.y,this._eventManager.ghostCtx,p.type,p.size,n,n,p.borderThickness),(m[g].indexLabel||l.indexLabel)&&this._indexLabels.push({chartType:"scatter",dataPoint:m[g],dataSeries:l,point:{x:d,y:e},direction:1,color:null}),n=d,o=e)}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0}}},x.prototype.renderCandlestick=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx,c=this._eventManager.ghostCtx;if(!(0>=a.dataSeriesIndexes.length)){var d,e,f,g,h,i,j=null,j=this.plotArea,l=0,l=.015*this.width;d=a.axisX.dataInfo.minDiff;var m=.7*j.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(d)<<0;m>l?m=l:1/0===d?m=l:1>m&&(m=1),b.save(),L&&c.save(),b.beginPath(),b.rect(j.x1,j.y1,j.width,j.height),b.clip(),L&&(c.rect(j.x1,j.y1,j.width,j.height),c.clip());for(var n=0;n<a.dataSeriesIndexes.length;n++){var o=a.dataSeriesIndexes[n],p=this.data[o],q=p.dataPoints;if(0<q.length)for(var r=m>5&&p.bevelEnabled?!0:!1,l=0;l<q.length;l++)if(i=q[l].getTime?q[l].x.getTime():q[l].x,!(i<a.axisX.dataInfo.viewPortMin||i>a.axisX.dataInfo.viewPortMax)&&null!==q[l].y&&q[l].y.length&&"number"==typeof q[l].y[0]&&"number"==typeof q[l].y[1]&&"number"==typeof q[l].y[2]&&"number"==typeof q[l].y[3]){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(i-a.axisX.conversionParameters.minimum)+.5<<0,e=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[l].y[0]-a.axisY.conversionParameters.minimum)+.5<<0,f=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[l].y[1]-a.axisY.conversionParameters.minimum)+.5<<0,g=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[l].y[2]-a.axisY.conversionParameters.minimum)+.5<<0,h=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[l].y[3]-a.axisY.conversionParameters.minimum)+.5<<0;var s=d-m/2<<0,t=s+m<<0,j=q[l].color?q[l].color:p._colorSet[0],u=Math.round(Math.max(1,.15*m)),v=0===u%2?0:.5,w=p.dataPointIds[l];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:l,x1:s,y1:e,x2:t,y2:f,x3:d,y3:g,x4:d,y4:h,borderThickness:u,color:j},b.strokeStyle=j,b.beginPath(),b.lineWidth=u,c.lineWidth=Math.max(u,4),"candlestick"===p.type?(b.moveTo(d-v,f),b.lineTo(d-v,Math.min(e,h)),b.stroke(),b.moveTo(d-v,Math.max(e,h)),b.lineTo(d-v,g),b.stroke(),_(b,s,Math.min(e,h),t,Math.max(e,h),q[l].y[0]<=q[l].y[3]?p.risingColor:j,u,j,r,r,!1,!1,p.fillOpacity),L&&(j=k(w),c.strokeStyle=j,c.moveTo(d-v,f),c.lineTo(d-v,Math.min(e,h)),c.stroke(),c.moveTo(d-v,Math.max(e,h)),c.lineTo(d-v,g),c.stroke(),_(c,s,Math.min(e,h),t,Math.max(e,h),j,0,null,!1,!1,!1,!1))):"ohlc"===p.type&&(b.moveTo(d-v,f),b.lineTo(d-v,g),b.stroke(),b.beginPath(),b.moveTo(d,e),b.lineTo(s,e),b.stroke(),b.beginPath(),b.moveTo(d,h),b.lineTo(t,h),b.stroke(),L&&(j=k(w),c.strokeStyle=j,c.moveTo(d-v,f),c.lineTo(d-v,g),c.stroke(),c.beginPath(),c.moveTo(d,e),c.lineTo(s,e),c.stroke(),c.beginPath(),c.moveTo(d,h),c.lineTo(t,h),c.stroke())),(q[l].indexLabel||p.indexLabel)&&this._indexLabels.push({chartType:p.type,dataPoint:q[l],dataSeries:p,point:{x:s+(t-s)/2,y:f},direction:1,bounds:{x1:s,y1:Math.min(f,g),x2:t,y2:Math.max(f,g)},color:j})}}return b.restore(),L&&c.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0}}},x.prototype.renderRangeColumn=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e=null,f=this.plotArea,g=0,g=.03*this.width;c=a.axisX.dataInfo.minDiff;var h=.9*(f.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(c)/a.plotType.totalDataSeries)<<0;h>g?h=g:1/0===c?h=g:1>h&&(h=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(f.x1,f.y1,f.width,f.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var i=0;i<a.dataSeriesIndexes.length;i++){var j=a.dataSeriesIndexes[i],l=this.data[j],m=l.dataPoints;if(0<m.length)for(var n=h>5&&l.bevelEnabled?!0:!1,g=0;g<m.length;g++)if(d=m[g].getTime?m[g].x.getTime():m[g].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&null!==m[g].y&&m[g].y.length&&"number"==typeof m[g].y[0]&&"number"==typeof m[g].y[1]){e=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(d-a.axisX.conversionParameters.minimum)+.5<<0,f=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[g].y[0]-a.axisY.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[g].y[1]-a.axisY.conversionParameters.minimum)+.5<<0;var o=e-a.plotType.totalDataSeries*h/2+(a.previousDataSeriesCount+i)*h<<0,p=o+h<<0,e=m[g].color?m[g].color:l._colorSet[g%l._colorSet.length];if(f>c){var q=f,f=c;c=q}q=l.dataPointIds[g],this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:g,x1:o,y1:f,x2:p,y2:c},_(b,o,f,p,c,e,0,e,n,n,!1,!1,l.fillOpacity),e=k(q),L&&_(this._eventManager.ghostCtx,o,f,p,c,e,0,null,!1,!1,!1,!1),(m[g].indexLabel||l.indexLabel)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[g],dataSeries:l,indexKeyword:0,point:{x:o+(p-o)/2,y:m[g].y[1]>=m[g].y[0]?c:f},direction:m[g].y[1]>=m[g].y[0]?-1:1,bounds:{x1:o,y1:Math.min(f,c),x2:p,y2:Math.max(f,c)},color:e}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[g],dataSeries:l,indexKeyword:1,point:{x:o+(p-o)/2,y:m[g].y[1]>=m[g].y[0]?f:c},direction:m[g].y[1]>=m[g].y[0]?1:-1,bounds:{x1:o,y1:Math.min(f,c),x2:p,y2:Math.max(f,c)},color:e}))}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0}}},x.prototype.renderRangeBar=function(a){var b=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,h=0,h=Math.min(.15*this.height,.9*(this.plotArea.height/a.plotType.totalDataSeries))<<0;c=a.axisX.dataInfo.minDiff;var i=.9*(g.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(c)/a.plotType.totalDataSeries)<<0;i>h?i=h:1/0===c?i=h:1>i&&(i=1),b.save(),L&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),L&&(this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var j=0;j<a.dataSeriesIndexes.length;j++){var l=a.dataSeriesIndexes[j],m=this.data[l],n=m.dataPoints;if(0<n.length){var o=i>5&&m.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<n.length;h++)if(e=n[h].getTime?n[h].x.getTime():n[h].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&null!==n[h].y&&n[h].y.length&&"number"==typeof n[h].y[0]&&"number"==typeof n[h].y[1]){g=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(n[h].y[0]-a.axisY.conversionParameters.minimum)+.5<<0,c=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(n[h].y[1]-a.axisY.conversionParameters.minimum)+.5<<0,d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(e-a.axisX.conversionParameters.minimum)+.5<<0,d=d-a.plotType.totalDataSeries*i/2+(a.previousDataSeriesCount+j)*i<<0;var p=d+i<<0;g>c&&(f=g,g=c,c=f),f=n[h].color?n[h].color:m._colorSet[h%m._colorSet.length],_(b,g,d,c,p,f,0,null,o,!1,!1,!1,m.fillOpacity),f=m.dataPointIds[h],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:h,x1:g,y1:d,x2:c,y2:p},f=k(f),L&&_(this._eventManager.ghostCtx,g,d,c,p,f,0,null,!1,!1,!1,!1),(n[h].indexLabel||m.indexLabel)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:n[h],dataSeries:m,indexKeyword:0,point:{x:n[h].y[1]>=n[h].y[0]?g:c,y:d+(p-d)/2},direction:n[h].y[1]>=n[h].y[0]?-1:1,bounds:{x1:Math.min(g,c),y1:d,x2:Math.max(g,c),y2:p},color:f}),this._indexLabels.push({chartType:"rangeBar",dataPoint:n[h],dataSeries:m,indexKeyword:1,point:{x:n[h].y[1]>=n[h].y[0]?c:g,y:d+(p-d)/2},direction:n[h].y[1]>=n[h].y[0]?1:-1,bounds:{x1:Math.min(g,c),y1:d,x2:Math.max(g,c),y2:p},color:f}))}}}return b.restore(),L&&this._eventManager.ghostCtx.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:ba.fadeInAnimation,easingFunction:ba.easing.easeInQuad,animationBase:0}}},x.prototype.renderRangeArea=function(a){function b(){if(r){var a=null;0<i.lineThickness&&c.stroke();for(var b=g.length-1;b>=0;b--)a=g[b],c.lineTo(a.x,a.y),d.lineTo(a.x,a.y);if(c.closePath(),c.globalAlpha=i.fillOpacity,c.fill(),c.globalAlpha=1,d.fill(),0<i.lineThickness){for(c.beginPath(),c.moveTo(a.x,a.y),b=0;b<g.length;b++)a=g[b],c.lineTo(a.x,a.y);c.stroke()}c.beginPath(),c.moveTo(l,m),d.beginPath(),d.moveTo(l,m),r={x:l,y:m},g=[],g.push({x:l,y:n})}}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=[],f=this.plotArea;for(c.save(),L&&d.save(),c.beginPath(),c.rect(f.x1,f.y1,f.width,f.height),c.clip(),L&&(d.beginPath(),d.rect(f.x1,f.y1,f.width,f.height),d.clip()),f=0;f<a.dataSeriesIndexes.length;f++){var g=[],h=a.dataSeriesIndexes[f],i=this.data[h],j=i.dataPoints,e=i.id;this._eventManager.objectMap[e]={objectType:"dataSeries",dataSeriesIndex:h},e=k(e),d.fillStyle=e;var l,m,n,o,e=[],p=!0,q=0,r=null;if(0<j.length){var s=i._colorSet[q%i._colorSet.length];c.fillStyle=s,c.strokeStyle=s,c.lineWidth=i.lineThickness;for(var t=!0;q<j.length;q++)if(o=j[q].x.getTime?j[q].x.getTime():j[q].x,!(o<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax))if(null!==j[q].y&&j[q].y.length&&"number"==typeof j[q].y[0]&&"number"==typeof j[q].y[1]){if(l=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(o-a.axisX.conversionParameters.minimum)+.5<<0,m=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(j[q].y[0]-a.axisY.conversionParameters.minimum)+.5<<0,n=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(j[q].y[1]-a.axisY.conversionParameters.minimum)+.5<<0,p||t?(c.beginPath(),c.moveTo(l,m),r={x:l,y:m},g=[],g.push({x:l,y:n}),L&&(d.beginPath(),d.moveTo(l,m)),t=p=!1):(c.lineTo(l,m),g.push({x:l,y:n}),L&&d.lineTo(l,m),0==q%250&&b()),o=i.dataPointIds[q],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:q,x1:l,y1:m,y2:n},0!==j[q].markerSize&&(0<j[q].markerSize||0<i.markerSize)){var u=i.getMarkerProperties(q,l,n,c);e.push(u);var v=k(o);L&&e.push({x:l,y:n,ctx:d,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness}),u=i.getMarkerProperties(q,l,m,c),e.push(u),v=k(o),L&&e.push({x:l,y:m,ctx:d,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness})}(j[q].indexLabel||i.indexLabel)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:j[q],dataSeries:i,indexKeyword:0,point:{x:l,y:m},direction:j[q].y[0]<=j[q].y[1]?-1:1,color:s}),this._indexLabels.push({chartType:"rangeArea",dataPoint:j[q],dataSeries:i,indexKeyword:1,point:{x:l,y:n},direction:j[q].y[0]<=j[q].y[1]?1:-1,color:s}))}else b(),t=!0;b(),ca.drawMarkers(e)}}return c.restore(),L&&this._eventManager.ghostCtx.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}},x.prototype.renderRangeSplineArea=function(a){function b(){var a=y(o,2);if(0<a.length){c.beginPath(),c.moveTo(a[0].x,a[0].y),L&&(d.beginPath(),d.moveTo(a[0].x,a[0].y));for(var b=0;b<a.length-3;b+=3)c.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),L&&d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y);for(0<h.lineThickness&&c.stroke(),a=y(p,2),c.lineTo(p[p.length-1].x,p[p.length-1].y),b=a.length-1;b>2;b-=3)c.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y),L&&d.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y);if(c.closePath(),c.globalAlpha=h.fillOpacity,c.fill(),c.globalAlpha=1,0<h.lineThickness){for(c.beginPath(),c.moveTo(p[p.length-1].x,p[p.length-1].y),b=a.length-1;b>2;b-=3)c.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y),L&&d.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y);c.stroke()}c.beginPath(),L&&(d.closePath(),d.fill())}}var c=a.targetCanvasCtx||this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=[],f=this.plotArea;for(c.save(),L&&d.save(),c.beginPath(),c.rect(f.x1,f.y1,f.width,f.height),c.clip(),L&&(d.beginPath(),d.rect(f.x1,f.y1,f.width,f.height),d.clip()),f=0;f<a.dataSeriesIndexes.length;f++){var g=a.dataSeriesIndexes[f],h=this.data[g],i=h.dataPoints,e=h.id;this._eventManager.objectMap[e]={objectType:"dataSeries",dataSeriesIndex:g},e=k(e),d.fillStyle=e;var j,l,m,e=[],n=0,o=[],p=[];if(0<i.length){for(color=h._colorSet[n%h._colorSet.length],c.fillStyle=color,c.strokeStyle=color,c.lineWidth=h.lineThickness;n<i.length;n++)if(j=i[n].x.getTime?i[n].x.getTime():i[n].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax))if(null!==i[n].y&&i[n].y.length&&"number"==typeof i[n].y[0]&&"number"==typeof i[n].y[1]){j=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(j-a.axisX.conversionParameters.minimum)+.5<<0,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(i[n].y[0]-a.axisY.conversionParameters.minimum)+.5<<0,m=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(i[n].y[1]-a.axisY.conversionParameters.minimum)+.5<<0;var q=h.dataPointIds[n];if(this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:n,x1:j,y1:l,y2:m},o[o.length]={x:j,y:l},p[p.length]={x:j,y:m},0!==i[n].markerSize&&(0<i[n].markerSize||0<h.markerSize)){var r=h.getMarkerProperties(n,j,l,c);e.push(r);var s=k(q);L&&e.push({x:j,y:l,ctx:d,type:r.type,size:r.size,color:s,borderColor:s,borderThickness:r.borderThickness}),r=h.getMarkerProperties(n,j,m,c),e.push(r),s=k(q),L&&e.push({x:j,y:m,ctx:d,type:r.type,size:r.size,color:s,borderColor:s,borderThickness:r.borderThickness})}(i[n].indexLabel||h.indexLabel)&&(this._indexLabels.push({chartType:"splineArea",dataPoint:i[n],dataSeries:h,indexKeyword:0,point:{x:j,y:l},direction:i[n].y[0]<=i[n].y[1]?-1:1,color:color}),this._indexLabels.push({chartType:"splineArea",dataPoint:i[n],dataSeries:h,indexKeyword:1,point:{x:j,y:m},direction:i[n].y[0]<=i[n].y[1]?1:-1,color:color}))}else n>0&&(b(),o=[],p=[]);b(),ca.drawMarkers(e)}}return c.restore(),L&&this._eventManager.ghostCtx.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:ba.xClipAnimation,easingFunction:ba.easing.linear,animationBase:0}}};var aa=function(a,b,c,d,e,f,g,h){if("undefined"==typeof h&&(h=1),!L){var i=Number((g%(2*Math.PI)).toFixed(8));Number((f%(2*Math.PI)).toFixed(8))===i&&(g-=1e-4)}a.save(),a.globalAlpha=h,"pie"===e?(a.beginPath(),a.moveTo(b.x,b.y),a.arc(b.x,b.y,c,f,g,!1),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===e&&(a.beginPath(),a.arc(b.x,b.y,c,f,g,!1),a.arc(b.x,b.y,.6*c,g,f,!0),a.closePath(),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.fill()),a.globalAlpha=1,a.restore()};x.prototype.renderPie=function(a){function b(){if(j&&k){var a=0,b=0,c=0,d=0;for(x=0;x<k.length;x++){var e=k[x],f=j.dataPointIds[x],g={id:f,objectType:"dataPoint",dataPointIndex:x,dataSeriesIndex:0};o.push(g);var h=e.indexLabel?e.indexLabel:j.indexLabel?j.indexLabel:e.label?e.label:j.label?j.label:"";i._eventManager.objectMap[f]=g,g.center={x:t.x,y:t.y},g.y=e.y,g.radius=u,g.indexLabelText=i.replaceKeywordsWithValue(h,e,j,x),g.indexLabelPlacement=j.indexLabelPlacement,g.indexLabelLineColor=e.indexLabelLineColor?e.indexLabelLineColor:j.indexLabelLineColor?j.indexLabelLineColor:e.color?e.color:j._colorSet[x%j._colorSet.length],g.indexLabelLineThickness=e.indexLabelLineThickness?e.indexLabelLineThickness:j.indexLabelLineThickness,g.indexLabelFontColor=e.indexLabelFontColor?e.indexLabelFontColor:j.indexLabelFontColor,g.indexLabelFontStyle=e.indexLabelFontStyle?e.indexLabelFontStyle:j.indexLabelFontStyle,g.indexLabelFontWeight=e.indexLabelFontWeight?e.indexLabelFontWeight:j.indexLabelFontWeight,g.indexLabelFontSize=e.indexLabelFontSize?e.indexLabelFontSize:j.indexLabelFontSize,g.indexLabelFontFamily=e.indexLabelFontFamily?e.indexLabelFontFamily:j.indexLabelFontFamily,g.indexLabelBackgroundColor=e.indexLabelBackgroundColor?e.indexLabelBackgroundColor:j.indexLabelBackgroundColor?j.indexLabelBackgroundColor:null,g.indexLabelMaxWidth=e.indexLabelMaxWidth?e.indexLabelMaxWidth:j.indexLabelMaxWidth?j.indexLabelMaxWidth:.33*m.width,g.indexLabelWrap="undefined"!=typeof e.indexLabelWrap?e.indexLabelWrap:j.indexLabelWrap,g.startAngle=0===x?j.startAngle?j.startAngle/180*Math.PI:0:o[x-1].endAngle,g.startAngle=(g.startAngle+2*Math.PI)%(2*Math.PI),g.endAngle=g.startAngle+2*Math.PI/w*Math.abs(e.y),e=(g.endAngle+g.startAngle)/2,e=(e+2*Math.PI)%(2*Math.PI),g.midAngle=e,g.midAngle>Math.PI/2-r&&g.midAngle<Math.PI/2+r?((0===a||o[c].midAngle>g.midAngle)&&(c=x),a++):g.midAngle>3*Math.PI/2-r&&g.midAngle<3*Math.PI/2+r&&((0===b||o[d].midAngle>g.midAngle)&&(d=x),b++),g.hemisphere=e>Math.PI/2&&e<=3*Math.PI/2?"left":"right",g.indexLabelTextBlock=new A(i.plotArea.ctx,{fontSize:g.indexLabelFontSize,fontFamily:g.indexLabelFontFamily,fontColor:g.indexLabelFontColor,fontStyle:g.indexLabelFontStyle,fontWeight:g.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:g.indexLabelBackgroundColor,maxWidth:g.indexLabelMaxWidth,maxHeight:g.indexLabelWrap?5*g.indexLabelFontSize:1.5*g.indexLabelFontSize,text:g.indexLabelText,padding:0,textBaseline:"top"}),g.indexLabelTextBlock.measureText()}for(f=e=0,h=!1,x=0;x<k.length;x++)g=o[(c+x)%k.length],a>1&&g.midAngle>Math.PI/2-r&&g.midAngle<Math.PI/2+r&&(a/2>=e&&!h?(g.hemisphere="right",e++):(g.hemisphere="left",h=!0));for(h=!1,x=0;x<k.length;x++)g=o[(d+x)%k.length],b>1&&g.midAngle>3*Math.PI/2-r&&g.midAngle<3*Math.PI/2+r&&(b/2>=f&&!h?(g.hemisphere="left",f++):(g.hemisphere="right",h=!0))}}function c(a){var b=i.plotArea.ctx;for(b.clearRect(m.x1,m.y1,m.width,m.height),b.fillStyle=i.backgroundColor,b.fillRect(m.x1,m.y1,m.width,m.height),b=0;b<k.length;b++){var c=o[b].startAngle,d=o[b].endAngle;if(d>c){var e=.07*u*Math.cos(o[b].midAngle),f=.07*u*Math.sin(o[b].midAngle),g=!1;k[b].exploded?(1e-9<Math.abs(o[b].center.x-(t.x+e))||1e-9<Math.abs(o[b].center.y-(t.y+f)))&&(o[b].center.x=t.x+e*a,o[b].center.y=t.y+f*a,g=!0):(0<Math.abs(o[b].center.x-t.x)||0<Math.abs(o[b].center.y-t.y))&&(o[b].center.x=t.x+e*(1-a),o[b].center.y=t.y+f*(1-a),g=!0),g&&(e={},e.dataSeries=j,e.dataPoint=j.dataPoints[b],e.index=b,i._toolTip.highlightObjects([e])),aa(i.plotArea.ctx,o[b].center,o[b].radius,k[b].color?k[b].color:j._colorSet[b%j._colorSet.length],j.type,c,d,j.fillOpacity)}}for(a=i.plotArea.ctx,a.fillStyle="black",a.strokeStyle="grey",a.textBaseline="middle",a.lineJoin="round",b=b=0;b<k.length;b++)c=o[b],c.indexLabelText&&(c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2,d=0,d="left"===c.hemisphere?"inside"!==j.indexLabelPlacement?-(c.indexLabelTextBlock.width+l):-c.indexLabelTextBlock.width/2:"inside"!==j.indexLabelPlacement?l:-c.indexLabelTextBlock.width/2,c.indexLabelTextBlock.x+=d,c.indexLabelTextBlock.render(!0),c.indexLabelTextBlock.x-=d,c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2,"inside"!==c.indexLabelPlacement&&(d=c.center.x+u*Math.cos(c.midAngle),e=c.center.y+u*Math.sin(c.midAngle),a.strokeStyle=c.indexLabelLineColor,a.lineWidth=c.indexLabelLineThickness,a.beginPath(),a.moveTo(d,e),a.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y),a.lineTo(c.indexLabelTextBlock.x+("left"===c.hemisphere?-l:l),c.indexLabelTextBlock.y),a.stroke()),a.lineJoin="miter")}function d(a,b){var c=a.indexLabelTextBlock.x,d=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,e=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,f=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,g=b.indexLabelTextBlock.x+b.indexLabelTextBlock.width,h=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<b.indexLabelTextBlock.x-l||c>g+l||d>h+l||f-l>e?!1:!0}function e(a,b){var c=0,c=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,d=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,e=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,f=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return c=b.indexLabelTextBlock.y>a.indexLabelTextBlock.y?e-d:c-f}function f(a){for(var b=null,c=1;c<k.length;c++){if(b=(a+c+o.length)%o.length,o[b].hemisphere!==o[a].hemisphere){b=null;break}if(o[b].indexLabelText&&b!==a&&(0>e(o[b],o[a])||("right"===o[a].hemisphere?o[b].indexLabelTextBlock.y>=o[a].indexLabelTextBlock.y:o[b].indexLabelTextBlock.y<=o[a].indexLabelTextBlock.y)))break;b=null}return b}function g(a,b){b=b||0;var c=0,d=t.y-1*v,h=t.y+1*v;if(a>=0&&a<k.length){var i=o[a];if(0>b&&i.indexLabelTextBlock.y<d||b>0&&i.indexLabelTextBlock.y>h)return 0;var j=b,l=0,m=0,m=l=l=0;for(0>j?i.indexLabelTextBlock.y-i.indexLabelTextBlock.height/2>d&&i.indexLabelTextBlock.y-i.indexLabelTextBlock.height/2+j<d&&(j=-(d-(i.indexLabelTextBlock.y-i.indexLabelTextBlock.height/2+j))):i.indexLabelTextBlock.y+i.indexLabelTextBlock.height/2<d&&i.indexLabelTextBlock.y+i.indexLabelTextBlock.height/2+j>h&&(j=i.indexLabelTextBlock.y+i.indexLabelTextBlock.height/2+j-h),j=i.indexLabelTextBlock.y+j,d=0,d="right"===i.hemisphere?t.x+Math.sqrt(Math.pow(v,2)-Math.pow(j-t.y,2)):t.x-Math.sqrt(Math.pow(v,2)-Math.pow(j-t.y,2)),m=t.x+u*Math.cos(i.midAngle),l=t.y+u*Math.sin(i.midAngle),l=Math.sqrt(Math.pow(d-m,2)+Math.pow(j-l,2)),m=Math.acos(u/v),l=Math.acos((v*v+u*u-l*l)/(2*u*v)),j=m>l?j-i.indexLabelTextBlock.y:0,d=null,h=1;h<k.length;h++){if(d=(a-h+o.length)%o.length,o[d].hemisphere!==o[a].hemisphere){d=null;break}if(o[d].indexLabelText&&o[d].hemisphere===o[a].hemisphere&&d!==a&&(0>e(o[d],o[a])||("right"===o[a].hemisphere?o[d].indexLabelTextBlock.y<=o[a].indexLabelTextBlock.y:o[d].indexLabelTextBlock.y>=o[a].indexLabelTextBlock.y)))break;d=null}m=d,l=f(a),h=d=0,0>j?(h="right"===i.hemisphere?m:l,c=j,null!==h&&(m=-j,j=i.indexLabelTextBlock.y-i.indexLabelTextBlock.height/2-(o[h].indexLabelTextBlock.y+o[h].indexLabelTextBlock.height/2),p>j-m&&(d=-m,n++,h=g(h,d),+h.toFixed(s)>+d.toFixed(s)&&(c=j>p?-(j-p):-(m-(h-d)))))):j>0&&(h="right"===i.hemisphere?l:m,c=j,null!==h&&(m=j,j=o[h].indexLabelTextBlock.y-o[h].indexLabelTextBlock.height/2-(i.indexLabelTextBlock.y+i.indexLabelTextBlock.height/2),p>j-m&&(d=m,n++,h=g(h,d),+h.toFixed(s)<+d.toFixed(s)&&(c=j>p?j-p:m-(d-h))))),c&&(j=i.indexLabelTextBlock.y+c,d=0,d="right"===i.hemisphere?t.x+Math.sqrt(Math.pow(v,2)-Math.pow(j-t.y,2)):t.x-Math.sqrt(Math.pow(v,2)-Math.pow(j-t.y,2)),i.midAngle>Math.PI/2-r&&i.midAngle<Math.PI/2+r?(h=(a-1+o.length)%o.length,h=o[h],m=o[(a+1+o.length)%o.length],"left"===i.hemisphere&&"right"===h.hemisphere&&d>h.indexLabelTextBlock.x?d=h.indexLabelTextBlock.x-15:"right"===i.hemisphere&&"left"===m.hemisphere&&d<m.indexLabelTextBlock.x&&(d=m.indexLabelTextBlock.x+15)):i.midAngle>3*Math.PI/2-r&&i.midAngle<3*Math.PI/2+r&&(h=(a-1+o.length)%o.length,h=o[h],m=o[(a+1+o.length)%o.length],"right"===i.hemisphere&&"left"===h.hemisphere&&d<h.indexLabelTextBlock.x?d=h.indexLabelTextBlock.x+15:"left"===i.hemisphere&&"right"===m.hemisphere&&d>m.indexLabelTextBlock.x&&(d=m.indexLabelTextBlock.x-15)),i.indexLabelTextBlock.y=j,i.indexLabelTextBlock.x=d,i.indexLabelAngle=Math.atan2(i.indexLabelTextBlock.y-t.y,i.indexLabelTextBlock.x-t.x))}return c}function h(){var a=i.plotArea.ctx;a.fillStyle="grey",a.strokeStyle="grey",a.font="16px Arial",a.textBaseline="middle";for(var b=0,c=a=0,a=0;10>a&&(1>a||c>0);a++){if(u-=c,c=0,"inside"!==j.indexLabelPlacement){
for(v=u*q,b=0;b<k.length;b++){var h=o[b];h.indexLabelTextBlock.x=t.x+v*Math.cos(h.midAngle),h.indexLabelTextBlock.y=t.y+v*Math.sin(h.midAngle),h.indexLabelAngle=h.midAngle,h.radius=u}for(var n,r,b=0;b<k.length;b++){var h=o[b],w=f(b);if(null!==w){n=o[b],r=o[w];var x=0,x=e(n,r)-p;if(0>x){for(var y=r=n=0;y<k.length;y++)y!==b&&o[y].hemisphere===h.hemisphere&&(o[y].indexLabelTextBlock.y<h.indexLabelTextBlock.y?n++:r++);y=x/(n+r||1)*r,n=-1*(x-y);var z=r=0;"right"===h.hemisphere?(r=g(b,y),n=-1*(x-r),z=g(w,n),+z.toFixed(s)<+n.toFixed(s)&&+r.toFixed(s)<=+y.toFixed(s)&&g(b,-(n-z))):(r=g(w,y),n=-1*(x-r),z=g(b,n),+z.toFixed(s)<+n.toFixed(s)&&+r.toFixed(s)<=+y.toFixed(s)&&g(w,-(n-z)))}}}}else for(b=0;b<k.length;b++)h=o[b],v="pie"===j.type?.7*u:.8*u,x=t.x+v*Math.cos(h.midAngle),y=t.y+v*Math.sin(h.midAngle),h.indexLabelTextBlock.x=x,h.indexLabelTextBlock.y=y;for(b=0;b<k.length;b++)h=o[b],x=h.indexLabelTextBlock.measureText(),0!==x.height&&0!==x.width&&(x=x=0,"right"===h.hemisphere?(x=m.x2-(h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+l),x*=-1):x=m.x1-(h.indexLabelTextBlock.x-h.indexLabelTextBlock.width-l),x>0&&(Math.abs(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-t.y)<u||Math.abs(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2-t.y)<u)&&(x/=Math.abs(Math.cos(h.indexLabelAngle)),x>9&&(x*=.3),x>c&&(c=x)),x=x=0,0<h.indexLabelAngle&&h.indexLabelAngle<Math.PI?(x=m.y2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+5),x*=-1):x=m.y1-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-5),x>0&&Math.abs(h.indexLabelTextBlock.x-t.x)<u&&(x/=Math.abs(Math.sin(h.indexLabelAngle)),x>9&&(x*=.3),x>c&&(c=x)));for(b=function(a,b,c){for(var d=[],e=0;d.push(o[b]),b!==c;b=(b+1+k.length)%k.length);for(d.sort(function(a,b){return a.y-b.y}),b=0;b<d.length&&(c=d[b],a>e);b++)e+=c.indexLabelTextBlock.height,c.indexLabelTextBlock.text="",c.indexLabelText="",c.indexLabelTextBlock.measureText()},w=h=-1,y=z=0;y<k.length;y++)if(n=o[y],n.indexLabelText){var A=f(y);null!==A&&(r=o[A],x=0,x=e(n,r),0>x&&d(n,r)?(0>h&&(h=y),A!==h&&(w=A),z+=-x):z>0&&(b(z,h,w),w=h=-1,z=0))}z>0&&b(z,h,w)}}var i=this;if(!(0>=a.dataSeriesIndexes.length)){for(var j=this.data[a.dataSeriesIndexes[0]],k=j.dataPoints,l=10,m=this.plotArea,n=0,o=[],p=2,q=1.3,r=20/180*Math.PI,s=6,t={x:(m.x2+m.x1)/2,y:(m.y2+m.y1)/2},u="inside"===j.indexLabelPlacement?.92*Math.min(m.width,m.height)/2:.8*Math.min(m.width,m.height)/2,v=u*q,w=0,x=0;x<k.length;x++)w+=Math.abs(k[x].y);0!==w&&(this.pieDoughnutClickHandler=function(a){i.isAnimating||(a=a.dataPoint,a.exploded=a.exploded?!1:!0,1<this.dataPoints.length&&i._animator.animate(0,500,function(a){c(a)}))},b(),h(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(a){var b=i.plotArea.ctx;for(b.clearRect(m.x1,m.y1,m.width,m.height),b.fillStyle=i.backgroundColor,b.fillRect(m.x1,m.y1,m.width,m.height),a=o[0].startAngle+2*Math.PI*a,b=0;b<k.length;b++){var c=0===b?o[b].startAngle:d,d=c+(o[b].endAngle-o[b].startAngle),e=!1;d>a&&(d=a,e=!0);var f=k[b].color?k[b].color:j._colorSet[b%j._colorSet.length];if(d>c&&aa(i.plotArea.ctx,o[b].center,o[b].radius,f,j.type,c,d,j.fillOpacity),e)break}},function(){i.disableToolTip=!1,i._animator.animate(0,i.animatedRender?500:0,function(a){c(a)})}))}},x.prototype.animationRequestId=null,x.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),x.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,z.prototype.registerSpace=function(a,b){"top"===a?this._topOccupied+=b.height:"bottom"===a?this._bottomOccupied+=b.height:"left"===a?this._leftOccupied+=b.width:"right"===a&&(this._rightOccupied+=b.width)},z.prototype.unRegisterSpace=function(a,b){"top"===a?this._topOccupied-=b.height:"bottom"===a?this._bottomOccupied-=b.height:"left"===a?this._leftOccupied-=b.width:"right"===a&&(this._rightOccupied-=b.width)},z.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}},z.prototype.reset=function(){this._topOccupied=0,this._bottomOccupied=3,this._rightOccupied=this._leftOccupied=0},a(A,w),A.prototype.render=function(a){a&&this.ctx.save();var b=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var c=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+c),"middle"===this.textBaseline&&(c=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var d=0,e=this.padding,f=null;for((0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,c,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,c=0;c<this._wrappedText.lines.length;c++)f=this._wrappedText.lines[c],"right"===this.horizontalAlign?d=this.width-f.width-this.padding:"left"===this.horizontalAlign?d=this.padding:"center"===this.horizontalAlign&&(d=(this.width-2*this.padding)/2-f.width/2+this.padding),this.ctx.fillText(f.text,d,e),e+=f.height;this.ctx.font=b,a&&this.ctx.restore()},A.prototype.setText=function(a){this.text=a,this._isDirty=!0,this._wrappedText=null},A.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},A.prototype._getLineWithWidth=function(a,b,c){if(a=String(a),!a)return{text:"",width:0};var d=c=0,e=a.length-1,f=1/0;for(this.ctx.font=this._getFontString();e>=d;){var f=Math.floor((d+e)/2),g=a.substr(0,f+1);if(c=this.ctx.measureText(g).width,b>c)d=f+1;else{if(!(c>b))break;e=f-1}}return c>b&&1<g.length&&(g=g.substr(0,g.length-1),c=this.ctx.measureText(g).width),b=!0,(g.length===a.length||" "===a[g.length])&&(b=!1),b&&(a=g.split(" "),1<a.length&&a.pop(),g=a.join(" "),c=this.ctx.measureText(g).width),{text:g,width:c}},A.prototype._wrapText=function(){var a=new String(f(this.text)),b=[],c=this.ctx.font,d=0,e=0;for(this.ctx.font=this._getFontString();0<a.length;){var g=this.maxHeight-2*this.padding,h=this._getLineWithWidth(a,this.maxWidth-2*this.padding,!1);h.height=this._lineHeight,b.push(h),e=Math.max(e,h.width),d+=h.height,a=f(a.slice(h.text.length,a.length)),g&&d>g&&(h=b.pop(),d-=h.height)}this._wrappedText={lines:b,width:e,height:d},this.width=e+2*this.padding,this.height=d+2*this.padding,this.ctx.font=c},A.prototype._getFontString=function(){return o("",this,null)},a(B,w),B.prototype.render=function(){if(this.text){var a,b,c=this.chart.layoutManager.getFreeSpace(),d=0,e=0,f=0,g=0,h=0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(g=c.width-2*this.margin,h=.5*c.height-2*this.margin,f=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(g=c.height-2*this.margin,h=.5*c.width-2*this.margin):"center"===this.horizontalAlign&&(g=c.width-2*this.margin,h=.5*c.height-2*this.margin));var h=new A(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:g,maxHeight:h,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),i=h.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(e=this.margin,b="top"):"bottom"===this.verticalAlign&&(e=c.y2-this.margin-i.height,b="bottom"),"left"===this.horizontalAlign?d=c.x1+this.margin:"center"===this.horizontalAlign?d=c.x1+(g/2-i.width/2)+this.margin:"right"===this.horizontalAlign&&(d=c.x2-this.margin-i.width),a=this.horizontalAlign,this.width=i.width,this.height=i.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(d=c.x1+this.margin,e=c.y2-this.margin-(g/2-i.width/2),f=-90,b="left",this.width=i.height,this.height=i.width):"right"===this.horizontalAlign?(d=c.x2-this.margin,e=c.y1+this.margin+(g/2-i.width/2),f=90,b="right",this.width=i.height,this.height=i.width):"center"===this.horizontalAlign&&(e=c.y1+(c.height/2-i.height/2),d=c.x1+(c.width/2-i.width/2),b="center",this.width=i.width,this.height=i.height),a="center"),h.x=d,h.y=e,h.angle=f,h.horizontalAlign=a,h.render(!0),this.chart.layoutManager.registerSpace(b,{width:this.width+2*this.margin,height:this.height+2*this.margin}),this.bounds={x1:d,y1:e,x2:d+this.width,y2:e+this.height},this.ctx.textBaseline="top"}},a(C,w),C.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace(),b=null,c=0,d=0,e=0,f=0,g=[],h=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",b=this.verticalAlign,e=.9*a.width,f=.5*a.height):"center"===this.verticalAlign&&(this.orientation="vertical",b=this.horizontalAlign,e=.5*a.width,f=.9*a.height);for(var i=0;i<this.dataSeries.length;i++){var j=this.dataSeries[i],l=j.legendMarkerType?j.legendMarkerType:"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type&&"scatter"!==j.type&&"bubble"!==j.type||!j.markerType?E.getDefaultLegendMarker(j.type):j.markerType,m=j.legendText?j.legendText:j.name,n=j.legendMarkerColor?j.legendMarkerColor:j.markerColor?j.markerColor:j._colorSet[0],o=j.markerSize||"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type?.6*this.lineHeight:0,p=j.legendMarkerBorderColor?j.legendMarkerBorderColor:j.markerBorderColor,q=j.legendMarkerBorderThickness?j.legendMarkerBorderThickness:j.markerBorderThickness?Math.max(1,Math.round(.2*o)):0;if("pie"!==j.type&&"doughnut"!==j.type&&"funnel"!==j.type)l={markerType:l,markerColor:n,text:m,textBlock:null,chartType:j.type,markerSize:o,lineColor:j._colorSet[0],dataSeriesIndex:j.index,dataPointIndex:null,markerBorderColor:p,markerBorderThickness:q},g.push(l);else for(var r=0;r<j.dataPoints.length;r++)q=j.dataPoints[r],l=q.legendMarkerType?q.legendMarkerType:j.legendMarkerType?j.legendMarkerType:E.getDefaultLegendMarker(j.type),m=q.legendText?q.legendText:j.legendText?j.legendText:q.name?q.name:"DataPoint: "+(r+1),n=q.legendMarkerColor?q.legendMarkerColor:j.legendMarkerColor?j.legendMarkerColor:q.color?q.color:j.color?j.color:j._colorSet[r%j._colorSet.length],o=0===q.markerSize||0===j.markerSize&&!q.markerSize?0:.6*this.lineHeight,p=q.legendMarkerBorderColor?q.legendMarkerBorderColor:j.legendMarkerBorderColor?j.legendMarkerBorderColor:q.markerBorderColor?q.markerBorderColor:j.markerBorderColor,q=q.legendMarkerBorderThickness?q.legendMarkerBorderThickness:j.legendMarkerBorderThickness?j.legendMarkerBorderThickness:q.markerBorderThickness||j.markerBorderThickness?Math.max(1,Math.round(.2*o)):0,l={markerType:l,markerColor:n,text:m,textBlock:null,chartType:j.type,markerSize:o,dataSeriesIndex:i,dataPointIndex:r,markerBorderColor:p,markerBorderThickness:q},g.push(l)}if(0<g.length){for(j=null,i=r=0;i<g.length;i++)l=g[i],"horizontal"===this.orientation?(l.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.lineHeight,angle:0,text:l.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),l.textBlock.measureText(),(!j||j.width+l.textBlock.width+(0===j.width?0:this.horizontalSpacing)>e)&&(j={items:[],width:0},h.push(j),this.height=h.length*(l.textBlock.height+5)),l.textBlock.x=j.width,l.textBlock.y=0,j.width+=Math.round(l.textBlock.width+l.textBlock._lineHeight+(0===j.width?0:.5*l.textBlock._lineHeight))):(this.height+this.lineHeight<f?(j={items:[],width:0},h.push(j),this.height=h.length*this.lineHeight):(j=h[r],r=(r+1)%h.length),l.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:1.5*this.fontSize,angle:0,text:l.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),l.textBlock.measureText(),l.textBlock.x=j.width,l.textBlock.y=0,j.width+=l.textBlock.width+l.textBlock._lineHeight+(0===j.width?0:.5*l.textBlock._lineHeight)),j.items.push(l),this.width=Math.max(j.width,this.width);this.height=h.length*this.lineHeight}for("top"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1+a.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y2-this.height-5),this.items=g,i=0;i<this.items.length;i++)l=g[i],l.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[l.id]={id:l.id,objectType:"legendItem",legendItemIndex:i,dataSeriesIndex:l.dataSeriesIndex,dataPointIndex:l.dataPointIndex};for(i=0;i<h.length;i++)for(j=h[i],a=0;a<j.items.length;a++)l=j.items[a],f=l.textBlock.x+d+(0===a?.2*l.markerSize:.4*this.lineHeight+.2*l.markerSize),g=c+i*this.lineHeight,e=f,this.chart.data[l.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),("line"===l.chartType||"stepLine"===l.chartType||"spline"===l.chartType)&&(this.ctx.strokeStyle=l.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(f+.7*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),e-=.1*this.lineHeight),ca.drawMarker(f+l.markerSize/2,g+this.lineHeight/2,this.ctx,l.markerType,l.markerSize,l.markerColor,l.markerBorderColor,l.markerBorderThickness),l.textBlock.x=f+Math.round(.9*this.lineHeight),l.textBlock.y=g,l.textBlock.render(!0),this.chart.data[l.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),f=k(l.id),this.ghostCtx.fillStyle=f,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(e,l.textBlock.y,l.textBlock.x+l.textBlock.width-e,l.textBlock.height),l.x1=this.chart._eventManager.objectMap[l.id].x1=e,l.y1=this.chart._eventManager.objectMap[l.id].y1=l.textBlock.y,l.x2=this.chart._eventManager.objectMap[l.id].x2=l.textBlock.x+l.textBlock.width,l.y2=this.chart._eventManager.objectMap[l.id].y2=l.textBlock.y+l.textBlock.height;this.chart.layoutManager.registerSpace(b,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:d,y1:c,x2:d+this.width,y2:c+this.height}},a(D,w),D.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red",this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)},a(E,w),E.prototype.getDefaultAxisPlacement=function(){var a=this.type;return"column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeArea"===a||"rangeSplineArea"===a?"normal":"bar"===a||"stackedBar"===a||"stackedBar100"===a||"rangeBar"===a?"xySwapped":"pie"===a||"doughnut"===a||"funnel"===a?"none":(window.console.log("Unknown Chart Type: "+a),null)},E.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeBar"===a||"rangeArea"===a||"rangeSplineArea"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a||"funnel"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a?"triangle":(window.console.log("Unknown Chart Type: "+a),null)},E.prototype.getDataPointAtX=function(a,b){if(!this.dataPoints||0===this.dataPoints.length)return null;var c={dataPoint:null,distance:1/0,index:0/0},d=null,e=0,f=0,g=1,h=1/0,i=0,j=0,k=0;for("none"!==this.chart.plotInfo.axisPlacement&&(k=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,k=k>0?Math.min(Math.max((this.dataPoints.length-1)/k*(a-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(f=g>0?k+e:k-e,f>=0&&f<this.dataPoints.length){var d=this.dataPoints[f],l=Math.abs(d.x-a);if(l<c.distance&&(c.dataPoint=d,c.distance=l,c.index=f),d=Math.abs(d.x-a),h>=d?h=d:g>0?i++:j++,i>1e3&&j>1e3)break}else if(0>k-e&&k+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}return b||c.dataPoint.x!==a?b&&null!==c.dataPoint?c:null:c},E.prototype.getDataPointAtXY=function(a,b,c){if(!this.dataPoints||0===this.dataPoints.length)return null;c=c||!1;var d=[],e=0,f=0,g=1,h=!1,i=1/0,j=0,k=0,l=0;for("none"!==this.chart.plotInfo.axisPlacement&&(l=this.chart.axisX.getXValueAt({x:a,y:b}),f=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,l=f>0?Math.min(Math.max((this.dataPoints.length-1)/f*(l-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(f=g>0?l+e:l-e,f>=0&&f<this.dataPoints.length){var m=this.chart._eventManager.objectMap[this.dataPointIds[f]],n=this.dataPoints[f],o=null;if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":a>=m.x1&&a<=m.x2&&b>=m.y1&&b<=m.y2&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(m.x1-a),Math.abs(m.x2-a),Math.abs(m.y1-b),Math.abs(m.y2-b))}),h=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var q=p("markerSize",n,this)||4,r=c?20:q,o=Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y1-b,2));r>=o&&d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:o}),f=Math.abs(m.x1-a),i>=f?i=f:g>0?j++:k++,q/2>=o&&(h=!0);break;case"rangeArea":case"rangeSplineArea":q=p("markerSize",n,this)||4,r=c?20:q,o=Math.min(Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y1-b,2)),Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y2-b,2))),r>=o&&d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:o}),f=Math.abs(m.x1-a),i>=f?i=f:g>0?j++:k++,q/2>=o&&(h=!0);break;case"bubble":q=m.size,o=Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y1-b,2)),q/2>=o&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:o}),h=!0);break;case"pie":case"doughnut":q=m.center,r="doughnut"===this.type?.6*m.radius:0,o=Math.sqrt(Math.pow(q.x-a,2)+Math.pow(q.y-b,2)),o<m.radius&&o>r&&(o=Math.atan2(b-q.y,a-q.x),0>o&&(o+=2*Math.PI),o=Number(((180*(o/Math.PI)%360+360)%360).toFixed(12)),q=Number(((180*(m.startAngle/Math.PI)%360+360)%360).toFixed(12)),r=Number(((180*(m.endAngle/Math.PI)%360+360)%360).toFixed(12)),0===r&&1<m.endAngle&&(r=360),q>=r&&0!==n.y&&(r+=360,q>o&&(o+=360)),o>q&&r>o&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:0}),h=!0));break;case"candlestick":(a>=m.x1-m.borderThickness/2&&a<=m.x2+m.borderThickness/2&&b>=m.y2-m.borderThickness/2&&b<=m.y3+m.borderThickness/2||Math.abs(m.x2-a+m.x1-a)<m.borderThickness&&b>=m.y1&&b<=m.y4)&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(m.x1-a),Math.abs(m.x2-a),Math.abs(m.y2-b),Math.abs(m.y3-b))}),h=!0);break;case"ohlc":(Math.abs(m.x2-a+m.x1-a)<m.borderThickness&&b>=m.y2&&b<=m.y3||a>=m.x1&&a<=(m.x2+m.x1)/2&&b>=m.y1-m.borderThickness/2&&b<=m.y1+m.borderThickness/2||a>=(m.x1+m.x2)/2&&a<=m.x2&&b>=m.y4-m.borderThickness/2&&b<=m.y4+m.borderThickness/2)&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(m.x1-a),Math.abs(m.x2-a),Math.abs(m.y2-b),Math.abs(m.y3-b))}),h=!0)}if(h||j>1e3&&k>1e3)break}}else if(0>l-e&&l+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}for(a=null,b=0;b<d.length;b++)a?d[b].distance<=a.distance&&(a=d[b]):a=d[b];return a},E.prototype.getMarkerProperties=function(a,b,c,d){var e=this.dataPoints;return{x:b,y:c,ctx:d,type:e[a].markerType?e[a].markerType:this.markerType,size:e[a].markerSize?e[a].markerSize:this.markerSize,color:e[a].markerColor?e[a].markerColor:this.markerColor?this.markerColor:e[a].color?e[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:e[a].markerBorderColor?e[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:e[a].markerBorderThickness?e[a].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},a(F,w),F.prototype.createLabels=function(){var a,b,d=0,e=0,f=0,d=0;if("bottom"===this._position||"top"===this._position?(d=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.9*d>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.7*this.chart.width>>0:this.labelMaxWidth,f="undefined"==typeof this._options.labelWrap||this.labelWrap?.5*this.chart.height>>0:1.5*this.labelFontSize):("left"===this._position||"right"===this._position)&&(d=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.3*this.chart.width>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.5*this.chart.width>>0:this.labelMaxWidth,f="undefined"==typeof this._options.labelWrap||this.labelWrap?2*d>>0:1.5*this.labelFontSize),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType)for(b=c(new Date(this.maximum),this.interval,this.intervalType),d=this.intervalstartTimePercent;b>d;c(d,this.interval,this.intervalType))a=d.getTime(),a="axisX"===this.type&&this.labels[a]?this.labels[a]:T(d,this.valueFormatString,this.chart._cultureInfo),a=new A(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:d.getTime(),textBlock:a,effectiveHeight:null});else{if(b=this.maximum,this.labels&&this.labels.length){a=Math.ceil(this.interval);for(var g=Math.ceil(this.intervalstartTimePercent),h=!1,d=g;d<this.maximum;d+=a){if(!this.labels[d]){h=!1;break}h=!0}h&&(this.interval=a,this.intervalstartTimePercent=g)}for(d=this.intervalstartTimePercent;b>=d;d=parseFloat((d+this.interval).toFixed(14)))a="axisX"===this.type&&this.labels[d]?this.labels[d]:U(d,this.valueFormatString,this.chart._cultureInfo),a=new A(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:d,textBlock:a,effectiveHeight:null})}for(d=0;d<this.stripLines.length;d++)b=this.stripLines[d],a=new A(this.ctx,{x:0,y:0,backgroundColor:b.labelBackgroundColor,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:b.label,horizontalAlign:"left",fontSize:b.labelFontSize,fontFamily:b.labelFontFamily,fontWeight:b.labelFontWeight,fontColor:b.labelFontColor,fontStyle:b.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:b.value,textBlock:a,effectiveHeight:null,stripLine:b})},F.prototype.createLabelsAndCalculateWidth=function(){var a=0;if(this._labels=[],"left"===this._position||"right"===this._position)for(this.createLabels(),i=0;i<this._labels.length;i++){var b=this._labels[i].textBlock.measureText(),c=0,c=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));c>a&&(a=c),this._labels[i].effectiveWidth=c}return(this.title?l(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5},F.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[];var b,c=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position)for(c=0;c<this._labels.length;c++){b=this._labels[c].textBlock,b=b.measureText();var d=0,d=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));d>a&&(a=d),this._labels[c].effectiveHeight=d}return(this.title?l(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5},F.setLayoutAndRender=function(a,b,c,d,e){var f,g,h,i=a.chart,j=i.ctx;if(a.calculateAxisParameters(),b&&b.calculateAxisParameters(),c&&c.calculateAxisParameters(),b&&c&&"undefined"==typeof b._options.maximum&&"undefined"==typeof b._options.minimum&&"undefined"==typeof b._options.interval&&"undefined"==typeof c._options.maximum&&"undefined"==typeof c._options.minimum&&"undefined"==typeof c._options.interval){h=(b.maximum-b.minimum)/b.interval;var k=(c.maximum-c.minimum)/c.interval;h>k?c.maximum=c.interval*h+c.minimum:k>h&&(b.maximum=b.interval*k+b.minimum)}if(k=b?b.margin:0,"normal"===d){a.lineCoordinates={};var l=Math.ceil(b?b.createLabelsAndCalculateWidth():0);f=Math.round(e.x1+l+k),a.lineCoordinates.x1=f,k=Math.ceil(c?c.createLabelsAndCalculateWidth():0),g=Math.round(e.x2-k>a.chart.width-10?a.chart.width-10:e.x2-k),a.lineCoordinates.x2=g,a.lineCoordinates.width=Math.abs(g-f);var m=Math.ceil(a.createLabelsAndCalculateHeight());d=Math.round(e.y2-m-a.margin),h=Math.round(e.y2-a.margin),a.lineCoordinates.y1=d,a.lineCoordinates.y2=d,a.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d},b&&(f=Math.round(e.x1+b.margin),d=Math.round(10>e.y1?10:e.y1),g=Math.round(e.x1+l+b.margin),h=Math.round(e.y2-m-a.margin),b.lineCoordinates={x1:g,y1:d,x2:g,y2:h,height:Math.abs(h-d)},b.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d}),c&&(f=Math.round(a.lineCoordinates.x2),d=Math.round(10>e.y1?10:e.y1),g=Math.round(f+k+c.margin),h=Math.round(e.y2-m-a.margin),c.lineCoordinates={x1:f,y1:d,x2:f,y2:h,height:Math.abs(h-d)},c.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d}),a.calculateValueToPixelconversionParameters(),b&&b.calculateValueToPixelconversionParameters(),c&&c.calculateValueToPixelconversionParameters(),j.save(),j.rect(5,a.boundingRect.y1,a.chart.width-10,a.boundingRect.height),j.clip(),a.renderLabelsTicksAndTitle(),j.restore(),b&&b.renderLabelsTicksAndTitle(),c&&c.renderLabelsTicksAndTitle()}else{l=Math.ceil(a.createLabelsAndCalculateWidth()),b&&(b.lineCoordinates={},f=Math.round(e.x1+l+a.margin),g=Math.round(e.x2>b.chart.width-10?b.chart.width-10:e.x2),b.lineCoordinates.x1=f,b.lineCoordinates.x2=g,b.lineCoordinates.width=Math.abs(g-f)),c&&(c.lineCoordinates={},f=Math.round(e.x1+l+a.margin),g=Math.round(e.x2>c.chart.width-10?c.chart.width-10:e.x2),c.lineCoordinates.x1=f,c.lineCoordinates.x2=g,c.lineCoordinates.width=Math.abs(g-f));var m=Math.ceil(b?b.createLabelsAndCalculateHeight():0),n=Math.ceil(c?c.createLabelsAndCalculateHeight():0);b&&(d=Math.round(e.y2-m-b.margin),h=Math.round(e.y2-k>b.chart.height-10?b.chart.height-10:e.y2-k),b.lineCoordinates.y1=d,b.lineCoordinates.y2=d,b.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:m}),c&&(d=Math.round(e.y1+c.margin),h=e.y1+c.margin+n,c.lineCoordinates.y1=h,c.lineCoordinates.y2=h,c.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:n}),f=Math.round(e.x1+a.margin),d=Math.round(c?c.lineCoordinates.y2:10>e.y1?10:e.y1),g=Math.round(e.x1+l+a.margin),h=Math.round(b?b.lineCoordinates.y1:e.y2-k>a.chart.height-10?a.chart.height-10:e.y2-k),a.lineCoordinates={x1:g,y1:d,x2:g,y2:h,height:Math.abs(h-d)},a.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d},a.calculateValueToPixelconversionParameters(),b&&b.calculateValueToPixelconversionParameters(),c&&c.calculateValueToPixelconversionParameters(),b&&b.renderLabelsTicksAndTitle(),c&&c.renderLabelsTicksAndTitle(),a.renderLabelsTicksAndTitle()}i.preparePlotArea(),e=a.chart.plotArea,j.save(),j.rect(e.x1,e.y1,Math.abs(e.x2-e.x1),Math.abs(e.y2-e.y1)),j.clip(),a.renderStripLinesOfThicknessType("value"),b&&b.renderStripLinesOfThicknessType("value"),c&&c.renderStripLinesOfThicknessType("value"),a.renderInterlacedColors(),b&&b.renderInterlacedColors(),c&&c.renderInterlacedColors(),j.restore(),a.renderGrid(),b&&b.renderGrid(),c&&c.renderGrid(),a.renderAxisLine(),b&&b.renderAxisLine(),c&&c.renderAxisLine(),a.renderStripLinesOfThicknessType("pixel"),b&&b.renderStripLinesOfThicknessType("pixel"),c&&c.renderStripLinesOfThicknessType("pixel")},F.prototype.renderLabelsTicksAndTitle=function(){var a=!1,b=0,c=1,d=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(c=1.2),"undefined"==typeof this._options.interval){if("bottom"===this._position||"top"===this._position){for(f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.stripLine||(e=e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+e.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),b+=e);b>this.lineCoordinates.width*c&&(a=!0)}if("left"===this._position||"right"===this._position){for(f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.stripLine||(e=e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b+=e);b>this.lineCoordinates.height*c&&(a=!0)}}if("bottom"===this._position){for(var e,f=0,f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(e.position),(this.tickThickness&&!this._labels[f].stripLine||this._labels[f].stripLine&&"pixel"===this._labels[f].stripLine._thicknessType)&&(this._labels[f].stripLine?(c=this._labels[f].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y+this.tickLength<<0),this.ctx.stroke()),(!a||0===d++%2||this._labels[f].stripLine)&&(0===e.textBlock.angle?(b.x-=e.textBlock.width/2,b.y+=this.tickLength+e.textBlock.fontSize/2):(b.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),e.textBlock.x=b.x,e.textBlock.y=b.y,e.textBlock.render(!0)));this.title&&(this._titleTextBlock=new A(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-3,this._titleTextBlock.render(!0))}else if("top"===this._position){for(f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(e.position),(this.tickThickness&&!this._labels[f].stripLine||this._labels[f].stripLine&&"pixel"===this._labels[f].stripLine._thicknessType)&&(this._labels[f].stripLine?(c=this._labels[f].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y-this.tickLength<<0),this.ctx.stroke()),(!a||0===d++%2||this._labels[f].stripLine)&&(0===e.textBlock.angle?(b.x-=e.textBlock.width/2,b.y-=this.tickLength+e.textBlock.height/2):(b.x-=0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,
b.y-=this.tickLength+Math.abs(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),e.textBlock.x=b.x,e.textBlock.y=b.y,e.textBlock.render(!0)));this.title&&(this._titleTextBlock=new A(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1+1,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){for(f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(e.position),(this.tickThickness&&!this._labels[f].stripLine||this._labels[f].stripLine&&"pixel"===this._labels[f].stripLine._thicknessType)&&(this._labels[f].stripLine?(c=this._labels[f].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x-this.tickLength<<0,c),this.ctx.stroke()),(!a||0===d++%2||this._labels[f].stripLine)&&(e.textBlock.x=b.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,e.textBlock.y=0===this.labelAngle?b.y-e.textBlock.height/2+this.labelFontSize/2:b.y-e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.textBlock.render(!0)));this.title&&(this._titleTextBlock=new A(this.ctx,{x:this.boundingRect.x1+1,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(f=0;f<this._labels.length;f++)e=this._labels[f],e.position<this.minimum||e.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(e.position),(this.tickThickness&&!this._labels[f].stripLine||this._labels[f].stripLine&&"pixel"===this._labels[f].stripLine._thicknessType)&&(this._labels[f].stripLine?(c=this._labels[f].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x+this.tickLength<<0,c),this.ctx.stroke()),(!a||0===d++%2||this._labels[f].stripLine)&&(e.textBlock.x=b.x+this.tickLength+5,e.textBlock.y=0===this.labelAngle?b.y-e.textBlock.height/2+this.labelFontSize/2:b.y,e.textBlock.render(!0)));this.title&&(this._titleTextBlock=new A(this.ctx,{x:this.boundingRect.x2-1,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}},F.prototype.renderInterlacedColors=function(){var a,b,c=this.chart.plotArea.ctx,d=this.chart.plotArea,e=0;if(a=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(c.fillStyle=this.interlacedColor,e=0;e<this._labels.length;e++)this._labels[e].stripLine||(a?(b=this.getPixelCoordinatesOnAxis(this._labels[e].position),a=this.getPixelCoordinatesOnAxis(e+1>=this._labels.length?this.maximum:this._labels[e+1].position),c.fillRect(d.x1,a.y,Math.abs(d.x1-d.x2),Math.abs(a.y-b.y)),a=!1):a=!0)}else for(c.fillStyle=this.interlacedColor,e=0;e<this._labels.length;e++)this._labels[e].stripLine||(a?(a=this.getPixelCoordinatesOnAxis(this._labels[e].position),b=this.getPixelCoordinatesOnAxis(e+1>=this._labels.length?this.maximum:this._labels[e+1].position),c.fillRect(a.x,d.y1,Math.abs(b.x-a.x),Math.abs(d.y1-d.y2)),a=!1):a=!0);c.beginPath()},F.prototype.renderStripLinesOfThicknessType=function(a){if(this.stripLines&&0<this.stripLines.length&&a)for(var b=this.chart.plotArea.ctx,c=0,c=0;c<this.stripLines.length;c++){var d=this.stripLines[c];if(d._thicknessType===a&&("pixel"!==a||!(d.value<this.minimum||d.value>this.maximum))){var e=this.getPixelCoordinatesOnAxis(d.value),f=Math.abs("pixel"===a?d.thickness:this.conversionParameters.pixelPerUnit*d.thickness);if(!(0>=f)){b.strokeStyle=d.color,b.beginPath(),k(d.id);var g,h,i,j;b.lineWidth=f,"bottom"===this._position||"top"===this._position?(g=h=1===b.lineWidth%2?(e.x<<0)+.5:e.x<<0,i=this.chart.plotArea.y1,j=this.chart.plotArea.y2):("left"===this._position||"right"===this._position)&&(i=j=1===b.lineWidth%2?(e.y<<0)+.5:e.y<<0,g=this.chart.plotArea.x1,h=this.chart.plotArea.x2),b.moveTo(g,i),b.lineTo(h,j),b.stroke()}}}},F.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a,b=this.chart.ctx,c=this.chart.plotArea;if(b.lineWidth=this.gridThickness,b.strokeStyle=this.gridColor,"bottom"===this._position||"top"===this._position)for(d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(b.beginPath(),a=this.getPixelCoordinatesOnAxis(this._labels[d].position),a=1===b.lineWidth%2?(a.x<<0)+.5:a.x<<0,b.moveTo(a,c.y1<<0),b.lineTo(a,c.y2<<0),b.stroke());else if("left"===this._position||"right"===this._position)for(var d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(b.beginPath(),a=this.getPixelCoordinatesOnAxis(this._labels[d].position),a=1===b.lineWidth%2?(a.y<<0)+.5:a.y<<0,b.moveTo(c.x1<<0,a),b.lineTo(c.x2<<0,a),b.stroke())}},F.prototype.renderAxisLine=function(){var a=this.chart.ctx;if("bottom"===this._position||"top"===this._position){if(this.lineThickness){a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor?this.lineColor:"black";var b=1===this.lineThickness%2?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;a.beginPath(),a.moveTo(this.lineCoordinates.x1,b),a.lineTo(this.lineCoordinates.x2,b),a.stroke()}}else"left"!==this._position&&"right"!==this._position||!this.lineThickness||(a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,b=1===this.lineThickness%2?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,a.beginPath(),a.moveTo(b,this.lineCoordinates.y1),a.lineTo(b,this.lineCoordinates.y2),a.stroke())},F.prototype.getPixelCoordinatesOnAxis=function(a){var b={},c=this.lineCoordinates.width,d=this.lineCoordinates.height;return("bottom"===this._position||"top"===this._position)&&(c/=Math.abs(this.maximum-this.minimum),b.x=this.lineCoordinates.x1+c*(a-this.minimum),b.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(c=d/Math.abs(this.maximum-this.minimum),b.y=this.lineCoordinates.y2-c*(a-this.minimum),b.x=this.lineCoordinates.x2),b},F.prototype.getXValueAt=function(a){if(!a)return null;var b=null;return"left"===this._position?b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-a.y)+this.chart.axisX.minimum:"bottom"===this._position&&(b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum),b},F.prototype.calculateValueToPixelconversionParameters=function(a){a={pixelPerUnit:null,minimum:null,reference:null};var b=this.lineCoordinates.width,c=this.lineCoordinates.height;a.minimum=this.minimum,("bottom"===this._position||"top"===this._position)&&(a.pixelPerUnit=b/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(a.pixelPerUnit=-1*c/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.y2),this.conversionParameters=a},F.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);var b,c,d,e,a="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.max(Math.floor(this.maxWidth/40),2);if(e=0,"axisX"===this.type?(b=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,c=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===c-b&&(e="undefined"==typeof this._options.interval?.4:this._options.interval,c+=e,b-=e),d=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:c-b>1?.5*Math.abs(c-b):1):"axisY"===this.type&&(b="undefined"==typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,c="undefined"==typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,isFinite(b)||isFinite(c)?0===b&&0===c?(c+=9,b=0):0===c-b?(e=Math.min(Math.abs(.01*Math.abs(c)),5),c+=e,b-=e):b>c?(e=Math.min(Math.abs(.01*Math.abs(c-b)),5),c>=0?b=c-e:c=b+e):(e=Math.min(Math.abs(.01*Math.abs(c-b)),.05),0!==c&&(c+=e),0!==b&&(b-=e)):(c="undefined"==typeof this._options.interval?-(1/0):this._options.interval,b=0),this.includeZero&&"undefined"==typeof this._options.minimum&&b>0&&(b=0),this.includeZero&&"undefined"==typeof this._options.maximum&&0>c&&(c=0)),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(e=c-b,this.intervalType||(a>=e/1?(this.interval=1,this.intervalType="millisecond"):a>=e/2?(this.interval=2,this.intervalType="millisecond"):a>=e/5?(this.interval=5,this.intervalType="millisecond"):a>=e/10?(this.interval=10,this.intervalType="millisecond"):a>=e/20?(this.interval=20,this.intervalType="millisecond"):a>=e/50?(this.interval=50,this.intervalType="millisecond"):a>=e/100?(this.interval=100,this.intervalType="millisecond"):a>=e/200?(this.interval=200,this.intervalType="millisecond"):a>=e/250?(this.interval=250,this.intervalType="millisecond"):a>=e/300?(this.interval=300,this.intervalType="millisecond"):a>=e/400?(this.interval=400,this.intervalType="millisecond"):a>=e/500?(this.interval=500,this.intervalType="millisecond"):e/(1*Q.secondDuration)<=a?(this.interval=1,this.intervalType="second"):e/(2*Q.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*Q.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*Q.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*Q.secondDuration)<=a?(this.interval=15,this.intervalType="second"):e/(20*Q.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*Q.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*Q.minuteDuration)<=a?(this.interval=1,this.intervalType="minute"):e/(2*Q.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*Q.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*Q.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*Q.minuteDuration)<=a?(this.interval=15,this.intervalType="minute"):e/(20*Q.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*Q.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*Q.hourDuration)<=a?(this.interval=1,this.intervalType="hour"):e/(2*Q.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*Q.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*Q.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*Q.dayDuration)<=a?(this.interval=1,this.intervalType="day"):e/(2*Q.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*Q.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*Q.weekDuration)<=a?(this.interval=1,this.intervalType="week"):e/(2*Q.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*Q.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*Q.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*Q.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*Q.monthDuration)<=a?(this.interval=3,this.intervalType="month"):e/(6*Q.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*Q.yearDuration)<=a?1:e/(2*Q.yearDuration)<=a?2:e/(4*Q.yearDuration)<=a?4:Math.floor(F.getNiceNumber(e/(a-1),!0)/Q.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:b-d/2,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:c+d/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalstartTimePercent=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",e=F.getNiceNumber(c-b,!1),this.interval=this._options&&this._options.interval?this._options.interval:F.getNiceNumber(e/(a-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(b/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(c/this.interval)*this.interval,0===this.maximum&&0===this.minimum&&(0===this._options.minimum?this.maximum+=10:0===this._options.maximum&&(this.minimum-=10),this._options&&"undefined"==typeof this._options.interval&&(this.interval=F.getNiceNumber((this.maximum-this.minimum)/(a-1),!0))),"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=b-d/2),null===this.sessionVariables.internalMaximum&&(this.maximum=c+d/2),this.intervalstartTimePercent=Math.floor((this.minimum+.2*this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalstartTimePercent=this.minimum)),"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!=typeof this._options.minimum?this._options.minimum:this.dataInfo.min-d/2,this._absoluteMaximum=this._options&&"undefined"!=typeof this._options.maximum?this._options.maximum:this.dataInfo.max+d/2),!this.valueFormatString&&(this.valueFormatString="#,##0.##",e=Math.abs(this.maximum-this.minimum),1>e)&&(b=Math.floor(Math.abs(Math.log(e)/Math.LN10))+2,(isNaN(b)||!isFinite(b))&&(b=2),b>2))for(c=0;b-2>c;c++)this.valueFormatString+="#"},F.getNiceNumber=function(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return Number(((b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10)*Math.pow(10,c)).toFixed(20))},F.prototype.getLabelStartPoint=function(){var a=d(this.interval,this.intervalType),a=new Date(Math.floor(this.minimum/a)*a);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},a(G,w),a(H,w),H.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.display="none";var a;a='<div style=" width: auto;height: auto;min-width: 50px;',a+="line-height: 20px;",a+="margin: 0px 0px 0px 0px;",a+="padding: 5px;",a+="font-family: Calibri, Arial, Georgia, serif;",a+="font-weight: 400;",a+="font-style: "+(L?"italic;":"normal;"),a+="font-size: 14px;",a+="color: #000000;",a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",a+="text-align: left;",a+="border: 2px solid gray;",a+=L?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",a+="text-indent: 0px;",a+="white-space: nowrap;",a+="border-radius: 5px;",a+="-moz-user-select:none;",a+="-khtml-user-select: none;",a+="-webkit-user-select: none;",a+="-ms-user-select: none;",a+="user-select: none;",L||(a+="filter: alpha(opacity = 90);",a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),a+='} "> Sample Tooltip</div>',this.container.innerHTML=a,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},H.prototype.mouseMoveHandler=function(a,b){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(a,b))},H.prototype._updateToolTip=function(a,b){if(this.enabled&&!this.chart.disableToolTip){if("undefined"==typeof a||"undefined"==typeof b){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX,b=this._prevY}else this._prevX=a,this._prevY=b;var c=null,d=null,e=[],f=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(f="xySwapped"===this.chart.plotInfo.axisPlacement?(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-b)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum,c=[],d=0;d<this.chart.data.length;d++){var g=this.chart.data[d].getDataPointAtX(f,!0);g&&0<=g.index&&(g.dataSeries=this.chart.data[d],null!==g.dataPoint.y&&c.push(g))}if(0===c.length)return;for(c.sort(function(a,b){return a.distance-b.distance}),f=c[0],d=0;d<c.length;d++)c[d].dataPoint.x.valueOf()===f.dataPoint.x.valueOf()&&e.push(c[d]);c=null}else if((g=this.chart.getDataPointAtXY(a,b,!0))?(this.currentDataPointIndex=g.dataPointIndex,this.currentSeriesIndex=g.dataSeries.index):L?(g=n(a,b,this.chart._eventManager.ghostCtx),g>0&&"undefined"!=typeof this.chart._eventManager.objectMap[g]?(eventObject=this.chart._eventManager.objectMap[g],this.currentSeriesIndex=eventObject.dataSeriesIndex,this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1):this.currentDataPointIndex=-1,0<=this.currentSeriesIndex){if(d=this.chart.data[this.currentSeriesIndex],g={},0<=this.currentDataPointIndex)c=d.dataPoints[this.currentDataPointIndex],g.dataSeries=d,g.dataPoint=c,g.index=this.currentDataPointIndex,g.distance=Math.abs(c.x-f);else{if("line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type&&"area"!==d.type&&"stepArea"!==d.type&&"splineArea"!==d.type&&"stackedArea"!==d.type&&"stackedArea100"!==d.type&&"rangeArea"!==d.type&&"rangeSplineArea"!==d.type&&"candlestick"!==d.type&&"ohlc"!==d.type)return;f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),g=d.getDataPointAtX(f,!0),g.dataSeries=d,this.currentDataPointIndex=g.index,c=g.dataPoint}null!==g.dataPoint.y&&e.push(g)}if(0<e.length)if(this.highlightObjects(e),f="",f=this.getToolTipInnerHTML({entries:e}),null!==f){this.contentDiv.innerHTML=f,this.contentDiv.innerHTML=f,f=!1,"none"===this.container.style.display&&(f=!0,this.container.style.display="block");try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:e[0].dataPoint.color?e[0].dataPoint.color:e[0].dataSeries.color?e[0].dataSeries.color:e[0].dataSeries._colorSet[e[0].index%e[0].dataSeries._colorSet.length]}catch(h){}"pie"===e[0].dataSeries.type||"doughnut"===e[0].dataSeries.type||"funnel"===e[0].dataSeries.type||"bar"===e[0].dataSeries.type||"rangeBar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?toolTipLeft=a-10-this.container.clientWidth:(toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(e[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+.5-this.container.clientWidth<<0,toolTipLeft-=10),0>toolTipLeft&&(toolTipLeft+=this.container.clientWidth+20),toolTipLeft+this.container.clientWidth>this.chart._container.clientWidth&&(toolTipLeft=Math.max(0,this.chart._container.clientWidth-this.container.clientWidth)),toolTipLeft+="px",e=1!==e.length||this.shared||"line"!==e[0].dataSeries.type&&"stepLine"!==e[0].dataSeries.type&&"spline"!==e[0].dataSeries.type&&"area"!==e[0].dataSeries.type&&"stepArea"!==e[0].dataSeries.type&&"splineArea"!==e[0].dataSeries.type&&"stackedArea"!==e[0].dataSeries.type&&"stackedArea100"!==e[0].dataSeries.type?"bar"===e[0].dataSeries.type||"rangeBar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?e[0].dataSeries.axisX.lineCoordinates.y2-e[0].dataSeries.axisX.lineCoordinates.height/Math.abs(e[0].dataSeries.axisX.maximum-e[0].dataSeries.axisX.minimum)*Math.abs(e[0].dataPoint.x-e[0].dataSeries.axisX.minimum)+.5<<0:b:e[0].dataSeries.axisY.lineCoordinates.y2-e[0].dataSeries.axisY.lineCoordinates.height/Math.abs(e[0].dataSeries.axisY.maximum-e[0].dataSeries.axisY.minimum)*Math.abs(e[0].dataPoint.y-e[0].dataSeries.axisY.minimum)+.5<<0,e=-e+10,0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.container.style.left=toolTipLeft,this.container.style.bottom=e+"px",!this.animationEnabled||f?this.disableAnimation():this.enableAnimation()}else this.hide(!1)}},H.prototype.highlightObjects=function(a){if(this.enabled){var b=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),b.save();for(var c=0,d=0;d<a.length;d++){var e=a[d];if((e=this.chart._eventManager.objectMap[e.dataSeries.dataPointIds[e.index]])&&e.objectType&&"dataPoint"===e.objectType){var c=this.chart.data[e.dataSeriesIndex],f=e.dataPointIndex;if("line"===c.type||"stepLine"===c.type||"spline"===c.type||"scatter"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type){var g=c.getMarkerProperties(f,e.x1,e.y1,this.chart.overlaidCanvasCtx);g.size=Math.max(1.5*g.size<<0,10),g.borderColor=g.borderColor||"#FFFFFF",g.borderThickness=g.borderThickness||Math.ceil(.1*g.size),ca.drawMarkers([g]),"undefined"!=typeof e.y2&&(g=c.getMarkerProperties(f,e.x1,e.y2,this.chart.overlaidCanvasCtx),g.size=Math.max(1.5*g.size<<0,10),g.borderColor=g.borderColor||"#FFFFFF",g.borderThickness=g.borderThickness||Math.ceil(.1*g.size),ca.drawMarkers([g]))}else"bubble"===c.type?(g=c.getMarkerProperties(f,e.x1,e.y1,this.chart.overlaidCanvasCtx),g.size=e.size,g.color="white",g.borderColor="white",b.globalAlpha=.3,ca.drawMarkers([g]),b.globalAlpha=1):"column"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"bar"===c.type||"rangeBar"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"rangeColumn"===c.type?_(b,e.x1,e.y1,e.x2,e.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===c.type||"doughnut"===c.type?aa(b,e.center,e.radius,"white",c.type,e.startAngle,e.endAngle,.3):"candlestick"===c.type?(b.globalAlpha=1,b.strokeStyle=e.color,b.lineWidth=2*e.borderThickness,c=0===b.lineWidth%2?0:.5,b.beginPath(),b.moveTo(e.x3-c,e.y2),b.lineTo(e.x3-c,Math.min(e.y1,e.y4)),b.stroke(),b.beginPath(),b.moveTo(e.x3-c,Math.max(e.y1,e.y4)),b.lineTo(e.x3-c,e.y3),b.stroke(),_(b,e.x1,Math.min(e.y1,e.y4),e.x2,Math.max(e.y1,e.y4),"transparent",2*e.borderThickness,e.color,!1,!1,!1,!1),b.globalAlpha=1):"ohlc"===c.type&&(b.globalAlpha=1,b.strokeStyle=e.color,b.lineWidth=2*e.borderThickness,c=0===b.lineWidth%2?0:.5,b.beginPath(),b.moveTo(e.x3-c,e.y2),b.lineTo(e.x3-c,e.y3),b.stroke(),b.beginPath(),b.moveTo(e.x3,e.y1),b.lineTo(e.x1,e.y1),b.stroke(),b.beginPath(),b.moveTo(e.x3,e.y4),b.lineTo(e.x2,e.y4),b.stroke(),b.globalAlpha=1)}}b.globalAlpha=1,b.beginPath()}},H.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var b=null,c=null,d=null,e=0,f="",g=!0,h=0;h<a.length;h++)if(a[h].dataSeries.toolTipContent||a[h].dataPoint.toolTipContent){g=!1;break}if(g&&this.content&&"function"==typeof this.content)b=this.content({entries:a});else if(this.shared){for(var i="",h=0;h<a.length;h++)c=a[h].dataSeries,d=a[h].dataPoint,e=a[h].index,f="",0===h&&g&&!this.content&&(i+="undefined"!=typeof this.chart.axisX.labels[d.x]?this.chart.axisX.labels[d.x]:"{x}",i+="</br>",i=this.chart.replaceKeywordsWithValue(i,d,c,e)),null===d.toolTipContent||"undefined"==typeof d.toolTipContent&&null===c._options.toolTipContent||("line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}":"bubble"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===c.type||"doughnut"===c.type||"funnel"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"&nbsp;&nbsp;{y}":"rangeColumn"===c.type||"rangeBar"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}":("candlestick"===c.type||"ohlc"===c.type)&&(f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===b&&(b=""),b+=this.chart.replaceKeywordsWithValue(f,d,c,e),h<a.length-1&&(b+="</br>"));null!==b&&(b=i+b)}else{if(c=a[0].dataSeries,d=a[0].dataPoint,e=a[0].index,null===d.toolTipContent||"undefined"==typeof d.toolTipContent&&null===c._options.toolTipContent)return null;"line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}":"bubble"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===c.type||"doughnut"===c.type||"funnel"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:(d.name?"{name}:&nbsp;&nbsp;":d.label?"{label}:&nbsp;&nbsp;":"")+"{y}":"rangeColumn"===c.type||"rangeBar"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":("candlestick"===c.type||"ohlc"===c.type)&&(f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===b&&(b=""),b+=this.chart.replaceKeywordsWithValue(f,d,c,e)}return b},H.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")},H.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},H.prototype.hide=function(a){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=0/0,("undefined"==typeof a||a)&&this.chart.resetOverlayedCanvas())},x.prototype.replaceKeywordsWithValue=function(a,b,c,d,e){var g=this;if(e="undefined"==typeof e?0:e,(0<=c.type.indexOf("stacked")||"pie"===c.type||"doughnut"===c.type)&&(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))){var h="#percent",j="#total",k=null;if(0<=c.type.indexOf("stacked"))j=0,k=b.x.getTime?b.x.getTime():b.x,k in c.plotUnit.yTotals&&(j=c.plotUnit.yTotals[k],h=isNaN(b.y)?0:100*(b.y/j));else if("pie"===c.type||"doughnut"===c.type){for(i=j=0;i<c.dataPoints.length;i++)isNaN(c.dataPoints[i].y)||(j+=c.dataPoints[i].y);h=isNaN(b.y)?0:100*(b.y/j)}do{if(k="",c.percentFormatString)k=c.percentFormatString;else{var k="#,##0.",l=Math.max(Math.ceil(Math.log(1/Math.abs(h))/Math.LN10),2);(isNaN(l)||!isFinite(l))&&(l=2);for(var m=0;l>m;m++)k+="#"}a=a.replace("#percent",U(h,k,g._cultureInfo)),a=a.replace("#total",U(j,c.yValueFormatString?c.yValueFormatString:"#,##0.########"))}while(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))}return a.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(a){
if('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=f(a.slice(1,a.length-1)),a=a.replace("#index",e);var h=null;try{var i=a.match(/(.*?)\s*\[\s*(.*?)\s*\]/);i&&0<i.length&&(h=f(i[2]),a=f(i[1]))}catch(j){}if(i=null,"color"===a)return b.color?b.color:c.color?c.color:c._colorSet[d%c._colorSet.length];if(b.hasOwnProperty(a))i=b;else{if(!c.hasOwnProperty(a))return"";i=c}return i=i[a],null!==h&&(i=i[h]),"x"===a?g.axisX&&"dateTime"===g.plotInfo.axisXValueType?T(i,b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:g.axisX&&g.axisX.valueFormatString?g.axisX.valueFormatString:"DD MMM YY",g._cultureInfo):U(i,b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:"#,##0.########",g._cultureInfo):"y"===a?U(i,b.yValueFormatString?b.yValueFormatString:c.yValueFormatString?c.yValueFormatString:"#,##0.########",g._cultureInfo):"z"===a?U(i,b.zValueFormatString?b.zValueFormatString:c.zValueFormatString?c.zValueFormatString:"#,##0.########",g._cultureInfo):i})},I.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],L&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},I.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},I.prototype.mouseEventHandler=function(a){if("mousemove"===a.type||"click"===a.type){var b=[],c=V(a),d=null;if((d=this.chart.getObjectAtXY(c.x,c.y,!1))&&"undefined"!=typeof this.objectMap[d])if(d=this.objectMap[d],"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=e.dataPoints[d.dataPointIndex],g=d.dataPointIndex;d.eventParameter={x:c.x,y:c.y,dataPoint:f,dataSeries:e._options,dataPointIndex:g,dataSeriesIndex:e.index,chart:this.chart._publicChartReference},d.eventContext={context:f,userContext:f,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},b.push(d),d=this.objectMap[e.id],d.eventParameter={x:c.x,y:c.y,dataPoint:f,dataSeries:e._options,dataPointIndex:g,dataSeriesIndex:e.index,chart:this.chart._publicChartReference},d.eventContext={context:e,userContext:e._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},b.push(this.objectMap[e.id])}else"legendItem"===d.objectType&&(e=this.chart.data[d.dataSeriesIndex],f=null!==d.dataPointIndex?e.dataPoints[d.dataPointIndex]:null,d.eventParameter={x:c.x,y:c.y,dataSeries:e._options,dataPoint:f,dataPointIndex:d.dataPointIndex,dataSeriesIndex:d.dataSeriesIndex,chart:this.chart._publicChartReference},d.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},b.push(d));for(e=[],c=0;c<this.mouseoveredObjectMaps.length;c++){for(f=!0,d=0;d<b.length;d++)if(b[d].id===this.mouseoveredObjectMaps[c].id){f=!1;break}f?this.fireEvent(this.mouseoveredObjectMaps[c],"mouseout",a):e.push(this.mouseoveredObjectMaps[c])}for(this.mouseoveredObjectMaps=e,c=0;c<b.length;c++){for(e=!1,d=0;d<this.mouseoveredObjectMaps.length;d++)if(b[c].id===this.mouseoveredObjectMaps[d].id){e=!0;break}e||(this.fireEvent(b[c],"mouseover",a),this.mouseoveredObjectMaps.push(b[c])),"click"===a.type?this.fireEvent(b[c],"click",a):"mousemove"===a.type&&this.fireEvent(b[c],"mousemove",a)}}},I.prototype.fireEvent=function(a,b,c){if(a&&b){var d=a.eventParameter,e=a.eventContext,f=a.eventContext.userContext;f&&e&&f[e[b]]&&f[e[b]].call(f,d),"mouseout"!==b?f.cursor&&f.cursor!==c.target.style.cursor&&(c.target.style.cursor=f.cursor):(c.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext),"click"===b&&"dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],d)}},a(J,w),K.prototype.animate=function(a,b,c,d,e){var f=this;for(this.chart.isAnimating=!0,e=e||ba.easing.linear,c&&this.animations.push({startTime:(new Date).getTime()+(a?a:0),duration:b,animationCallback:c,onComplete:d}),a=[];0<this.animations.length;)b=this.animations.shift(),c=(new Date).getTime(),d=0,b.startTime<=c&&(d=e(Math.min(c-b.startTime,b.duration),0,1,b.duration),d=Math.min(d,1),isNaN(d)||!isFinite(d))&&(d=1),1>d&&a.push(b),b.animationCallback(d),d>=1&&b.onComplete&&b.onComplete();this.animations=a,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){f.animate.call(f)}):this.chart.isAnimating=!1},K.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var ba={yScaleAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas,e=b.animationBase;c.drawImage(d,0,0,d.width,d.height,0,e-e*a,c.canvas.width/Z,a*c.canvas.height/Z)}},xScaleAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas,e=b.animationBase;c.drawImage(d,0,0,d.width,d.height,e-e*a,0,a*c.canvas.width/Z,c.canvas.height/Z)}},xClipAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas;c.save(),a>0&&c.drawImage(d,0,0,d.width*a,d.height,0,0,d.width*a/Z,d.height/Z),c.restore()}},fadeInAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas;c.save(),c.globalAlpha=a,c.drawImage(d,0,0,d.width,d.height,0,0,c.canvas.width/Z,c.canvas.height/Z),c.restore()}},easing:{linear:function(a,b,c,d){return c*a/d+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeInQuart:function(a,b,c,d){return c*(a/=d)*a*a*a+b}}},ca={drawMarker:function(a,b,c,d,e,f,g,h){if(c){var i=1;c.fillStyle=f?f:"#000000",c.strokeStyle=g?g:"#000000",c.lineWidth=h?h:0,"circle"===d?(c.moveTo(a,b),c.beginPath(),c.arc(a,b,e/2,0,2*Math.PI,!1),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i))):"square"===d?(c.beginPath(),c.rect(a-e/2,b-e/2,e,e),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i))):"triangle"===d?(c.beginPath(),c.moveTo(a-e/2,b+e/2),c.lineTo(a+e/2,b+e/2),c.lineTo(a,b-e/2),c.closePath(),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i)),c.beginPath()):"cross"===d&&(c.strokeStyle=f,c.lineWidth=e/4,c.beginPath(),c.moveTo(a-e/2,b-e/2),c.lineTo(a+e/2,b+e/2),c.stroke(),c.moveTo(a+e/2,b-e/2),c.lineTo(a-e/2,b+e/2),c.stroke())}},drawMarkers:function(a){for(var b=0;b<a.length;b++){var c=a[b];ca.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness)}}},da={Chart:function(a,b){var c=new x(a,b,this);this.render=function(){c.render(this.options)},this.options=c._options},addColorSet:function(a,b){O[a]=b},addCultureInfo:function(a,b){N[a]=b}};da.Chart.version="v1.6.2 GA",window.CanvasJS=da}(),document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new n(this))}function b(a,b,c){var d=E.call(arguments,2);return function(){return a.apply(b,d.concat(E.call(arguments)))}}function c(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function d(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),a.styleSheets.ex_canvas_||(a=a.createStyleSheet(),a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function e(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function f(a){a=a.srcElement,a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function g(){return[[1,0,0],[0,1,0],[0,0,1]]}function h(a,b){for(var c=g(),d=0;3>d;d++)for(var e=0;3>e;e++){for(var f=0,h=0;3>h;h++)f+=a[d][h]*b[h][e];c[d][e]=f}return c}function i(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function j(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),b=a.substring(b+1,c).split(",");return(4!=b.length||"a"!=a.charAt(3))&&(b[3]=1),b}function k(a,b,c){return Math.min(c,Math.max(b,a))}function l(a,b,c){return 0>c&&c++,c>1&&c--,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function m(a){if(a in K)return K[a];var b,c=1;if(a=String(a),"#"==a.charAt(0))b=a;else if(/^rgb/.test(a)){c=j(a),b="#";for(var d,e=0;3>e;e++)d=-1!=c[e].indexOf("%")?Math.floor(255*(parseFloat(c[e])/100)):+c[e],b+=G[k(d,0,255)];c=+c[3]}else if(/^hsl/.test(a)){if(e=c=j(a),b=parseFloat(e[0])/360%360,0>b&&b++,d=k(parseFloat(e[1])/100,0,1),e=k(parseFloat(e[2])/100,0,1),0==d)d=e=b=e;else{var f=.5>e?e*(1+d):e+d-e*d,g=2*e-f;d=l(g,f,b+1/3),e=l(g,f,b),b=l(g,f,b-1/3)}b="#"+G[Math.floor(255*d)]+G[Math.floor(255*e)]+G[Math.floor(255*b)],c=c[3]}else b=J[a]||a;return K[a]={color:b,alpha:c}}function n(a){this.m_=g(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*C,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c),b=c.cloneNode(!1),b.style.backgroundColor="red",b.style.filter="alpha(opacity=0)",a.appendChild(b),this.element_=c,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function o(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y}),a.currentX_=d.x,a.currentY_=d.y}function p(a,b){var c=m(a.strokeStyle),d=c.color,c=c.alpha*a.globalAlpha,e=a.lineScale_*a.lineWidth;1>e&&(c*=e),b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',M[a.lineCap]||"square",'"',' weight="',e,'px"',' color="',d,'" />')}function q(a,b,c,d){var e=a.fillStyle,f=a.arcScaleX_,g=a.arcScaleY_,h=d.x-c.x,i=d.y-c.y;if(e instanceof t){var j=0,k=d=0,l=0,n=1;if("gradient"==e.type_){j=e.x1_/f,c=e.y1_/g;var o=r(a,e.x0_/f,e.y0_/g),j=r(a,j,c),j=180*Math.atan2(j.x-o.x,j.y-o.y)/Math.PI;0>j&&(j+=360),1e-6>j&&(j=0)}else o=r(a,e.x0_,e.y0_),d=(o.x-c.x)/h,k=(o.y-c.y)/i,h/=f*C,i/=g*C,n=w.max(h,i),l=2*e.r0_/n,n=2*e.r1_/n-l;f=e.colors_,f.sort(function(a,b){return a.offset-b.offset}),g=f.length,o=f[0].color,c=f[g-1].color,h=f[0].alpha*a.globalAlpha,a=f[g-1].alpha*a.globalAlpha;for(var i=[],p=0;g>p;p++){var q=f[p];i.push(q.offset*n+l+" "+q.color)}b.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',o,'"',' color2="',c,'"',' colors="',i.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',h,'"',' angle="',j,'"',' focusposition="',d,",",k,'" />')}else e instanceof u?h&&i&&b.push("<g_vml_:fill",' position="',-c.x/h*f*f,",",-c.y/i*g*g,'"',' type="tile"',' src="',e.src_,'" />'):(e=m(a.fillStyle),b.push('<g_vml_:fill color="',e.color,'" opacity="',e.alpha*a.globalAlpha,'" />'))}function r(a,b,c){return a=a.m_,{x:C*(b*a[0][0]+c*a[1][0]+a[2][0])-D,y:C*(b*a[0][1]+c*a[1][1]+a[2][1])-D}}function s(a,b,c){isFinite(b[0][0])&&isFinite(b[0][1])&&isFinite(b[1][0])&&isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1])&&(a.m_=b,c&&(a.lineScale_=B(A(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function t(a){this.type_=a,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function u(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new v("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new v("INVALID_STATE_ERR");switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:throw new v("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function v(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var w=Math,x=w.round,y=w.sin,z=w.cos,A=w.abs,B=w.sqrt,C=10,D=C/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var E=Array.prototype.slice;d(document);var F={init:function(a){a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",b(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a,d(b.ownerDocument),b.innerHTML="",b.attachEvent("onpropertychange",e),b.attachEvent("onresize",f);var c=b.attributes;c.width&&c.width.specified?b.style.width=c.width.nodeValue+"px":b.width=b.clientWidth,c.height&&c.height.specified?b.style.height=c.height.nodeValue+"px":b.height=b.clientHeight}return b}};F.init();for(var G=[],H=0;16>H;H++)for(var I=0;16>I;I++)G[16*H+I]=H.toString(16)+I.toString(16);var J={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},K={},L={},M={butt:"flat",round:"round"},H=n.prototype;H.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},H.beginPath=function(){this.currentPath_=[]},H.moveTo=function(a,b){var c=r(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},H.lineTo=function(a,b){var c=r(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},H.bezierCurveTo=function(a,b,c,d,e,f){e=r(this,e,f),a=r(this,a,b),c=r(this,c,d),o(this,a,c,e)},H.quadraticCurveTo=function(a,b,c,d){a=r(this,a,b),c=r(this,c,d),d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)},o(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)},H.arc=function(a,b,c,d,e,f){c*=C;var g=f?"at":"wa",h=a+z(d)*c-D,i=b+y(d)*c-D;d=a+z(e)*c-D,e=b+y(e)*c-D,h!=d||f||(h+=.125),a=r(this,a,b),h=r(this,h,i),d=r(this,d,e),this.currentPath_.push({type:g,x:a.x,y:a.y,radius:c,xStart:h.x,yStart:h.y,xEnd:d.x,yEnd:d.y})},H.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},H.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},H.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},H.createLinearGradient=function(a,b,c,d){var e=new t("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e},H.createRadialGradient=function(a,b,c,d,e,f){var g=new t("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g},H.drawImage=function(a,b){var c,d,e,f,g,h,i,j;e=a.runtimeStyle.width,f=a.runtimeStyle.height,a.runtimeStyle.width="auto",a.runtimeStyle.height="auto";var k=a.width,l=a.height;if(a.runtimeStyle.width=e,a.runtimeStyle.height=f,3==arguments.length)c=arguments[1],d=arguments[2],g=h=0,i=e=k,j=f=l;else if(5==arguments.length)c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4],g=h=0,i=k,j=l;else{if(9!=arguments.length)throw Error("Invalid number of arguments");g=arguments[1],h=arguments[2],i=arguments[3],j=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],f=arguments[8]}var m=r(this,c,d),n=[];if(n.push(" <g_vml_:group",' coordsize="',10*C,",",10*C,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var o=[];o.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",x(m.x/C),",","Dy=",x(m.y/C),"");var p=r(this,c+e,d),q=r(this,c,d+f);c=r(this,c+e,d+f),m.x=w.max(m.x,p.x,q.x,c.x),m.y=w.max(m.y,p.y,q.y,c.y),n.push("padding:0 ",x(m.x/C),"px ",x(m.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",o.join(""),", sizingmethod='clip');")}else n.push("top:",x(m.y/C),"px;left:",x(m.x/C),"px;");n.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',C*e,"px;"," height:",C*f,'px"',' cropleft="',g/k,'"',' croptop="',h/l,'"',' cropright="',(k-g-i)/k,'"',' cropbottom="',(l-h-j)/l,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",n.join(""))},H.stroke=function(a){var b=[];b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*C,",",10*C,'"',' stroked="',!a,'"',' path="');for(var c={x:null,y:null},d={x:null,y:null},e=0;e<this.currentPath_.length;e++){var f=this.currentPath_[e];switch(f.type){case"moveTo":b.push(" m ",x(f.x),",",x(f.y));break;case"lineTo":b.push(" l ",x(f.x),",",x(f.y));break;case"close":b.push(" x "),f=null;break;case"bezierCurveTo":b.push(" c ",x(f.cp1x),",",x(f.cp1y),",",x(f.cp2x),",",x(f.cp2y),",",x(f.x),",",x(f.y));break;case"at":case"wa":b.push(" ",f.type," ",x(f.x-this.arcScaleX_*f.radius),",",x(f.y-this.arcScaleY_*f.radius)," ",x(f.x+this.arcScaleX_*f.radius),",",x(f.y+this.arcScaleY_*f.radius)," ",x(f.xStart),",",x(f.yStart)," ",x(f.xEnd),",",x(f.yEnd))}f&&((null==c.x||f.x<c.x)&&(c.x=f.x),(null==d.x||f.x>d.x)&&(d.x=f.x),(null==c.y||f.y<c.y)&&(c.y=f.y),(null==d.y||f.y>d.y)&&(d.y=f.y))}b.push(' ">'),a?q(this,b,c,d):p(this,b),b.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",b.join(""))},H.fill=function(){this.stroke(!0)},H.closePath=function(){this.currentPath_.push({type:"close"})},H.save=function(){var a={};i(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=h(g(),this.m_)},H.restore=function(){this.aStack_.length&&(i(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},H.translate=function(a,b){s(this,h([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)},H.rotate=function(a){var b=z(a);a=y(a),s(this,h([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)},H.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b,s(this,h([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)},H.transform=function(a,b,c,d,e,f){s(this,h([[a,b,0],[c,d,0],[e,f,1]],this.m_),!0)},H.setTransform=function(a,b,c,d,e,f){s(this,[[a,b,0],[c,d,0],[e,f,1]],!0)},H.drawText_=function(a,b,d,e,f){var g=this.m_;e=0;var h,i=1e3,j=0,k=[];if(h=this.font,L[h])h=L[h];else{var l=document.createElement("div").style;try{l.font=h}catch(m){}h=L[h]={style:l.fontStyle||"normal",variant:l.fontVariant||"normal",weight:l.fontWeight||"normal",size:l.fontSize||10,family:l.fontFamily||"sans-serif"}}var l=h,n=this.element_;h={};for(var o in l)h[o]=l[o];switch(o=parseFloat(n.currentStyle.fontSize),n=parseFloat(l.size),h.size="number"==typeof l.size?l.size:-1!=l.size.indexOf("px")?n:-1!=l.size.indexOf("em")?o*n:-1!=l.size.indexOf("%")?o/100*n:-1!=l.size.indexOf("pt")?n/.75:o,h.size*=.981,o=h.style+" "+h.variant+" "+h.weight+" "+h.size+"px "+h.family,n=this.element_.currentStyle,l=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":l="ltr"==n.direction?"right":"left";break;case"start":l="rtl"==n.direction?"right":"left";break;default:l="left"}switch(this.textBaseline){case"hanging":case"top":j=h.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":j=-h.size/2.25}switch(l){case"right":e=1e3,i=.05;break;case"center":e=i=500}b=r(this,b+0,d+j),k.push('<g_vml_:line from="',-e,' 0" to="',i,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;">'),f?p(this,k):q(this,k,{x:-e,y:0},{x:i,y:h.size}),f=g[0][0].toFixed(3)+","+g[1][0].toFixed(3)+","+g[0][1].toFixed(3)+","+g[1][1].toFixed(3)+",0,0",b=x(b.x/C)+","+x(b.y/C),k.push('<g_vml_:skew on="t" matrix="',f,'" ',' offset="',b,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',c(a),'" style="v-text-align:',l,";font:",c(o),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",k.join(""))},H.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},H.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},H.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(b.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},H.clip=function(){},H.arcTo=function(){},H.createPattern=function(a,b){return new u(a,b)},t.prototype.addColorStop=function(a,b){b=m(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})},H=v.prototype=Error(),H.INDEX_SIZE_ERR=1,H.DOMSTRING_SIZE_ERR=2,H.HIERARCHY_REQUEST_ERR=3,H.WRONG_DOCUMENT_ERR=4,H.INVALID_CHARACTER_ERR=5,H.NO_DATA_ALLOWED_ERR=6,H.NO_MODIFICATION_ALLOWED_ERR=7,H.NOT_FOUND_ERR=8,H.NOT_SUPPORTED_ERR=9,H.INUSE_ATTRIBUTE_ERR=10,H.INVALID_STATE_ERR=11,H.SYNTAX_ERR=12,H.INVALID_MODIFICATION_ERR=13,H.NAMESPACE_ERR=14,H.INVALID_ACCESS_ERR=15,H.VALIDATION_ERR=16,H.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=F,CanvasRenderingContext2D=n,CanvasGradient=t,CanvasPattern=u,DOMException=v}(),function(a,b,c,d){a.fn.CanvasJSChart=function(a){if(a){var b=this.first();return a=new CanvasJS.Chart(this[0],a),b.children(".canvasjs-chart-container").data("canvasjsChartRef",a),a.render(),this}return this.first().children(".canvasjs-chart-container").data("canvasjsChartRef")}}(jQuery,window,document),angular.module("spiritBreaker226GitHubPageApp").controller("caruselFeatureCtrl",["$scope","$document","ProjectCommService","ProjectPortfolioHttpService","doDisplayPortfolioDetails",function(a,b,c,d,e){a.sharedData=c.data,d.success(function(b){a.projects=b,a.bannerProjects=a.getNumberOfProjectBanners(2)}),a.setProjectIndex=function(a){c.data.index=a,b.scrollToElement(angular.element(document.getElementById("portfolio")),70),e(!0)},a.getNumberOfProjectBanners=function(b){var c=[],d=a.projects.slice(0);d=d.filter(function(a){return""!==a.feature}),(0>=b||b>d.length)&&(b=1);for(var e=b;e>0;e--){var f=Math.floor(Math.random()*d.length);c.push(d[f]),d.splice(f,1)}return c}}]).directive("carouselFeature",function(){return{templateUrl:"views/templates/carouselFeature.html",restrict:"E"}});var app=angular.module("spiritBreaker226GitHubPageApp");app.controller("AboutMeCtrl",["$scope",function(a){a.chart=new CanvasJS.Chart("chartContainer",{theme:"theme2",backgroundColor:"rgb(97, 101, 104)",axisY:{labelFontSize:12,labelFontColor:"#FFF",gridColor:"#FFF",minimum:0,maximum:10},axisX:{labelFontSize:12,labelFontColor:"#FFF"},data:[{type:"bar",color:"#aa0f13",dataPoints:[{label:"Git",y:9},{label:"SQL",y:7.8},{label:"Bootstrap / Foundation",y:7.5},{label:"Cordova / Phonegap",y:7.5},{label:"HTML5 / CSS3",y:8},{label:"AngularJS",y:6.5},{label:"jQuery",y:7.5},{label:"JavaScript",y:8.5},{label:"C#",y:7.5},{label:"PHP",y:7.5},{label:"Ruby on Rails",y:8}]}]}),a.chart.render(),a.changeChartType=function(b){a.chart.options.data[0].type=b,a.chart.render()}}]).directive("aboutMe",function(){return{templateUrl:"views/templates/aboutme.html",restrict:"E"}});var app=angular.module("spiritBreaker226GitHubPageApp");app.controller("PortfolioCtrl",["$scope","$document","ProjectCommService","ProjectPortfolioHttpService","doDisplayPortfolioDetails","projectShowURL",function(a,b,c,d,e,f){a.sharedData=c.data,d.success(function(b){a.projects=b}),a.projectOrder="name",a.displayProjectSummary=function(a){var b=a.indexOf(".");return b>0?a.substr(0,b+1):a.substr(0,140)},a.hideProjectEndDate=function(a){return""===a},a.setProjectIndex=function(a){c.data.index=a,b.scrollToElement(angular.element(document.getElementById("portfolio")),70),e(!0)},a.showProjectURL=function(a){return f(a)}}]).directive("portfolio",function(){return{templateUrl:"views/templates/portfolio.html",restrict:"E",controllerAs:"project"}}),app.controller("ProjectDetailsCtrl",["$scope","ProjectCommService","ProjectPortfolioHttpService","doDisplayPortfolioDetails","projectShowURL",function(a,b,c,d,e){a.sharedData=b.data,c.success(function(b){a.projects=b}),a.$watch("sharedData.index",function(b){a.itemIndex=b}),a.hideProjectTeamSize=function(a){return a>1},a.setProjectDetailsClose=function(){d(!1)},a.showProjectURL=function(a){return e(a)}}]).directive("portfolioDetails",function(){return{templateUrl:"views/templates/portfolioDetails.html",restrict:"E"}});var app=angular.module("spiritBreaker226GitHubPageApp");app.controller("ContactCtrl",["$scope",function(a){a.contactThankYouMesage=function(){angular.element("#contact-thank-you-message").html("<p>Thank you, your question has been submitted</p>"),angular.element("#contact-form-container").fadeOut({duration:500})}}]).directive("contact",function(){return{templateUrl:"views/templates/contact.html",restrict:"E"}}),angular.module("spiritBreaker226GitHubPageApp").directive("viewButtons",function(){return{templateUrl:"views/templates/viewbuttons.html",restrict:"E"}}),angular.module("spiritBreaker226GitHubPageApp").controller("FooterCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.todaysDate=new Date}]);